"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),_templateObject=_taggedTemplateLiteral(["\n  height: ",";\n  position: relative;\n  overflow: hidden;\n"],["\n  height: ",";\n  position: relative;\n  overflow: hidden;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  width: 100%;\n  width: ",";\n  position: absolute;\n  left: 0;\n  top: 0;\n  ",";\n"],["\n  width: 100%;\n  width: ",";\n  position: absolute;\n  left: 0;\n  top: 0;\n  ",";\n"]),_templateObject3=_taggedTemplateLiteral(["\n  height: ",";\n  background: #fff;\n  width: 100%;\n  position: absolute;\n  line-height: ",";\n"],["\n  height: ",";\n  background: #fff;\n  width: 100%;\n  position: absolute;\n  line-height: ",";\n"]),_templateObject4=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 100%;\n  top: ",";\n"],["\n  position: absolute;\n  width: 100%;\n  top: ",";\n"]),_templateObject5=_taggedTemplateLiteral(["\n  color: ",";\n  margin-left: ",";\n  font-size: ",";\n"],["\n  color: ",";\n  margin-left: ",";\n  font-size: ",";\n"]),_templateObject6=_taggedTemplateLiteral(["\n  color: ",";\n  transition: all 0.4s;\n  &:hover {\n    color: ",";\n  }\n"],["\n  color: ",";\n  transition: all 0.4s;\n  &:hover {\n    color: ",";\n  }\n"]),_templateObject7=_taggedTemplateLiteral(["\n  margin-left: ",";\n  font-size: ",";\n"],["\n  margin-left: ",";\n  font-size: ",";\n"]),_templateObject8=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 50%;\n  right: ",";\n  transform: translateY(-50%);\n  z-index: 200;\n  font-size: ",";\n"],["\n  position: absolute;\n  top: 50%;\n  right: ",";\n  transform: translateY(-50%);\n  z-index: 200;\n  font-size: ",";\n"]);require("../common/shirm");var _react=require("react"),React=_interopRequireWildcard(_react),_input=require("../input"),_input2=_interopRequireDefault(_input),_theme2=require("../theme"),_theme3=_interopRequireDefault(_theme2),_index=require("../consts/index"),_index2=_interopRequireDefault(_index),_QueryInputContainer=require("../common/QueryInputContainer"),_QueryInputContainer2=_interopRequireDefault(_QueryInputContainer),_styledComponents=require("styled-components"),_styledComponents2=_interopRequireDefault(_styledComponents),_icon=require("../icon"),_icon2=_interopRequireDefault(_icon),_input3=require("../css/input"),_selectFunction=require("../common/selectFunction"),_queryInput=require("../css/queryInput"),_units=require("../css/units");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var OutContainer=_styledComponents2.default.div(_templateObject,(0,_units.px2remcss)(_input3.DefaultHeight)),InnerContainer=_styledComponents2.default.div(_templateObject2,function(e){return(0,_units.px2remcss)(e.width)},_queryInput.IsShowSearchInputHandle),CheckAllContainer=_styledComponents2.default.div(_templateObject3,(0,_units.px2remcss)(_input3.DefaultHeight),(0,_units.px2remcss)(_input3.DefaultHeight)),SearchInputContainer=_styledComponents2.default.div(_templateObject4,(0,_units.px2remcss)(_input3.DefaultHeight)),CheckAllButton=_styledComponents2.default.span(_templateObject5,_queryInput.getCheckAllButtonColor,(0,_units.px2remcss)(10),(0,_units.px2remcss)(16));CheckAllButton.displayName="CheckAllButton";var ShowCheckAllButton=_styledComponents2.default.span(_templateObject6,_queryInput.darkGreyColor,_queryInput.themeColor),AppendValueButton=ShowCheckAllButton;AppendValueButton.displayName="addIcon";var RefreshButton=(0,_styledComponents2.default)(ShowCheckAllButton)(_templateObject7,(0,_units.px2remcss)(10),(0,_units.px2remcss)(16));RefreshButton.displayName="RefreshButton";var SearchButton=(0,_styledComponents2.default)(ShowCheckAllButton)(_templateObject8,(0,_units.px2remcss)(10),(0,_units.px2remcss)(16));SearchButton.displayName="SearchButton";var QueryInput=function(){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onShowSearchInput=function(){t.setState({toShowSearchInputIng:!0}),setTimeout(function(){t.setState({showSearchInput:!0,showCheckAllButton:!1,toShowSearchInputIng:!1})},500)},t.onHideSearchInput=function(){t.setState({toShowCheckAllButtonIng:!0}),setTimeout(function(){t.setState({showCheckAllButton:!0,showSearchInput:!1,toShowCheckAllButtonIng:!1})},500)},t.state={showSearchInput:!0,showCheckAllButton:!1,toShowSearchInputIng:!1,toShowCheckAllButtonIng:!1},t}return _inherits(n,React.Component),_createClass(n,[{key:"render",value:function(){return this.getTarget()}},{key:"getTarget",value:function(){var e=this.props,t=(0,_selectFunction.isMutliple)(e);if(!t&&!(0,_selectFunction.isCanSearch)(e))return null;var n=e.query,o=e.onQueryInputChange,r=e.refreshValue,i=e.onQueryInputKeyDown,u=e.width,l=this.state,a=l.showSearchInput,c=l.showCheckAllButton,s=l.toShowSearchInputIng,p=l.toShowCheckAllButtonIng,h=_defineProperty({},_index2.default.Input,{Container:{normal:{width:u}}});return React.createElement(OutContainer,null,React.createElement(InnerContainer,{showSearchInput:a,showCheckAllButton:c,toShowSearchInputIng:s,toShowCheckAllButtonIng:p,width:u},React.createElement(CheckAllContainer,null,t?this.getCheckAllButton():null,React.createElement(RefreshButton,{onClick:r},React.createElement(_icon2.default,{iconClass:"lugia-icon-reminder_refresh"})),this.getSearchInputButton()),React.createElement(SearchInputContainer,null,React.createElement(_QueryInputContainer2.default,null,React.createElement(_input2.default,{key:"queryInput",theme:h,placeholder:"请输入查询条件",value:n,onChange:o,onKeyDown:i,prefix:this.getQueryInputPrefix(),suffix:this.getQueryInputSuffix()})))))}},{key:"getQueryInputPrefix",value:function(){return React.createElement(ShowCheckAllButton,{onClick:this.onHideSearchInput},React.createElement(_icon2.default,{iconClass:"lugia-icon-direction_arrow_up"}))}},{key:"getQueryInputSuffix",value:function(){var e=this.props;if((0,_selectFunction.isCanInput)(e)){var t=e.addClick;return React.createElement(AppendValueButton,null,React.createElement(_icon2.default,{iconClass:"lugia-icon-reminder_plus",onClick:t}))}return null}},{key:"getCheckAllButton",value:function(){var e=this.props,t=e.isCheckedAll,n=e.onCheckAll,o=t?"lugia-icon-finacial_deselection":"lugia-icon-finacial_check_all";return React.createElement(CheckAllButton,{isCheckedAll:t,onClick:n},React.createElement(_icon2.default,{iconClass:o}))}},{key:"getSearchInputButton",value:function(){return React.createElement(SearchButton,{onClick:this.onShowSearchInput},React.createElement(_icon2.default,{iconClass:"lugia-icon-financial_search"}))}}]),n}();QueryInput.displayName=_index2.default.QueryInput,exports.default=QueryInput;