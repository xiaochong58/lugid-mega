"use strict";var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_react=require("react"),_react2=_interopRequireDefault(_react),_reactTestRenderer=require("react-test-renderer"),_reactTestRenderer2=_interopRequireDefault(_reactTestRenderer);require("jest-styled-components");var _enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_tabs=require("../tabs"),_tabs2=_interopRequireDefault(_tabs),_demo=require("../demo");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var l=e.apply(this,arguments);return new Promise(function(n,o){return function t(e,a){try{var r=l[e](a),u=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(u).then(function(e){t("next",e)},function(e){t("throw",e)});n(u)}("next")})}}_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default}),describe("tabsDemo",function(){function a(){return!0}function r(e){var t=e||{activityValue:0,tabType:"line",tabPosition:"bottom",data:_demo.hasActivityValueData};return _react2.default.createElement(_tabs2.default,Object.assign({},t,{getPartOfThemeHocProps:a,getPartOfThemeProps:a,themeProps:u}))}var u={themeConfig:{},themeState:{}};it("Component JSON",function(){var e=_react2.default.createElement(_tabs2.default,{getPartOfThemeProps:a,getPartOfThemeHocProps:a,themeProps:u});expect(_reactTestRenderer2.default.create(e).toJSON()).toMatchSnapshot()});function n(e){return e.children().instance()}function e(t,a){it("props activityValue",function(){var e=(0,_enzyme.mount)(t);e.find("Tabpane").at(2).simulate("click"),expect(n(e).state.activityValue).toBe(a)})}it("props hasTargetInProps",function(){expect((0,_tabs.hasTargetInProps)("data",{data:[{title:"zbc"}],getPartOfThemeProps:a,getPartOfThemeHocProps:a,themeProps:u})).toBe(!0),expect((0,_tabs.hasTargetInProps)("children",{children:_react2.default.createElement("div",null,"123"),getPartOfThemeProps:a,getPartOfThemeHocProps:a,themeProps:u})).toBe(!0),expect((0,_tabs.hasTargetInProps)("ops",{ops:"sdfsdf",getPartOfThemeProps:a,getPartOfThemeHocProps:a,themeProps:u})).toBe(!0),expect((0,_tabs.hasTargetInProps)("ads",{ops:"sdfsdf",getPartOfThemeProps:a,getPartOfThemeHocProps:a,themeProps:u})).toBe(!1)}),it("props defaultActivityValue",function(){var e=(0,_enzyme.mount)(r({defaultActivityValue:"2",data:_demo.hasActivityValueData})),t=n(e).state.activityValue;expect(t).toBe("2")}),it("props activityValue",function(){var e=(0,_enzyme.mount)(r({activityValue:"2",data:_demo.hasActivityValueData})),t=n(e).state.activityValue;expect(t).toBe("2")}),it("props defaultData",function(){var e=(0,_enzyme.mount)(r({defaultData:_demo.defaultData})),t=n(e).state.data;expect(t).toEqual(t)}),it("props data",function(){var e=(0,_enzyme.mount)(r({data:_demo.hasActivityValueData,tabPosition:"left"})),t=n(e).state.data;expect(t).toEqual(_demo.hasActivityValueData)}),it("props data && defaultData",function(){var e=(0,_enzyme.mount)(r({data:_demo.hasActivityValueData,defaultData:_demo.defaultData})),t=n(e).state.data;expect(t).toEqual(_demo.hasActivityValueData)}),it("props data []",function(){var e=(0,_enzyme.mount)(r({data:[]})),t=n(e).state.data;expect(t).toEqual([])}),it("props children shortChildren",function(){var e=(0,_enzyme.mount)(r({children:_demo.shortChildren})),t=n(e).state.activityValue;expect(t).toBe("Tab1")}),it("props children longChildren",function(){var e=(0,_enzyme.mount)(r({children:_demo.longChildren})),t=n(e).state.activityValue;expect(t).toBe("Tab1")}),it("props children&&data",function(){var e=(0,_enzyme.mount)(r({data:_demo.hasActivityValueData,children:_demo.shortChildren})),t=n(e).state.activityValue;expect(t).toBe("0")}),e(r({data:_demo.hasActivityValueData,activityValue:"1"}),"1"),e(r({data:_demo.hasActivityValueData,activityValue:"3"}),"3"),it("props onAddClick 非受限",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(_react2.default.createElement(_tabs2.default,{tabType:"card",getPartOfThemeHocProps:a,getPartOfThemeProps:a,themeProps:u})),expect(n(t).state.data).toEqual([{title:"Tab1",value:"Tab1"},{title:"Tab2",value:"Tab2"},{title:"Tab3",value:"Tab3"}]),t.children().instance().onAddClick(),expect(n(t).state.data).toEqual([{title:"Tab1",value:"Tab1"},{title:"Tab2",value:"Tab2"},{title:"Tab3",value:"Tab3"},{title:"Tab4",content:"Tab4 Content",value:"Tab4"}]);case 4:case"end":return e.stop()}},e,void 0)}))),it("props onAddClick 受限",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(r()),expect(n(t).state.data).toEqual(_demo.hasActivityValueData),t.children().instance().onAddClick(),expect(n(t).state.data).toEqual(_demo.hasActivityValueData);case 4:case"end":return e.stop()}},e,void 0)}))),it("props onDelete 非受限",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(_react2.default.createElement(_tabs2.default,{tabType:"card",getPartOfThemeHocProps:a,getPartOfThemeProps:a,themeProps:u})),expect(n(t).state.data).toEqual([{title:"Tab1",value:"Tab1"},{title:"Tab2",value:"Tab2"},{title:"Tab3",value:"Tab3"}]),t.children().instance().onDelete({index:1,activityValue:"Tab2"}),expect(n(t).state.data).toEqual([{title:"Tab1",value:"Tab1"},{title:"Tab3",value:"Tab3"}]);case 4:case"end":return e.stop()}},e,void 0)}))),it("props onDelete 受限",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(r()),expect(n(t).state.data).toEqual(_demo.hasActivityValueData),t.children().instance().onDelete(2),expect(n(t).state.data).toEqual(_demo.hasActivityValueData);case 4:case"end":return e.stop()}},e,void 0)}))),it("props onChange 非受限",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(_react2.default.createElement(_tabs2.default,{tabType:"card",getPartOfThemeHocProps:a,getPartOfThemeProps:a,themeProps:u})),expect(n(t).state.activityValue).toEqual("Tab1"),t.children().instance().onChange({index:1,activityValue:"Tab2"}),expect(n(t).state.activityValue).toEqual("Tab2");case 4:case"end":return e.stop()}},e,void 0)}))),it("props onChange 受限",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(r()),expect(n(t).state.activityValue).toEqual("0"),t.children().instance().onChange({index:2,activityValue:"Tab3"}),expect(n(t).state.activityValue).toEqual("0");case 4:case"end":return e.stop()}},e,void 0)}))),it("props onAddClick 非受限",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(_react2.default.createElement(_tabs2.default,{tabType:"card",getPartOfThemeHocProps:a,getPartOfThemeProps:a,themeProps:u})),expect(n(t).state.data).toEqual((0,_tabs.getDefaultData)({})),expect(n(t).state.activityValue).toEqual("Tab1"),t.children().instance().onAddClick(),expect(n(t).state.data).toEqual([{title:"Tab1",value:"Tab1"},{title:"Tab2",value:"Tab2"},{title:"Tab3",value:"Tab3"},{title:"Tab4",content:"Tab4 Content",value:"Tab4"}]),expect(n(t).state.activityValue).toEqual("Tab4");case 6:case"end":return e.stop()}},e,void 0)}))),it("props onAddClick 受限",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(r()),expect(n(t).state.data).toEqual(_demo.hasActivityValueData),expect(n(t).state.activityValue).toEqual("0"),t.children().instance().onAddClick(),expect(n(t).state.data).toEqual(_demo.hasActivityValueData),expect(n(t).state.activityValue).toEqual("0");case 6:case"end":return e.stop()}},e,void 0)}))),it("props 受限 data",_asyncToGenerator(_regenerator2.default.mark(function e(){var t;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(_react2.default.createElement(_tabs2.default,{data:_demo.hasActivityValueData,getPartOfThemeHocProps:a,getPartOfThemeProps:a,themeProps:u})),expect(n(t).state.data).toEqual(_demo.hasActivityValueData),n(t).setState({data:[]}),expect(n(t).state.data).toEqual(_demo.hasActivityValueData),t.setProps({data:[]}),expect(n(t).state.data).toEqual([]),t.setProps({data:_demo.hasActivityValueData}),expect(n(t).state.data).toEqual(_demo.hasActivityValueData);case 8:case"end":return e.stop()}},e,void 0)}))),it("getCurrentPageByActivityValue",_asyncToGenerator(_regenerator2.default.mark(function e(){var o;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=(0,_enzyme.mount)(r()),[{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"1",totalPage:4,exception:1},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"2",totalPage:4,exception:1},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"3",totalPage:4,exception:1},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"4",totalPage:4,exception:2},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"5",totalPage:4,exception:2},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"6",totalPage:4,exception:2},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"7",totalPage:4,exception:3},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"8",totalPage:4,exception:3},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"9",totalPage:4,exception:3},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"}],activityValue:"10",totalPage:4,exception:4},{data:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"},{value:"11"},{value:"12"},{value:"13"},{value:"14"},{value:"15"}],activityValue:"7",totalPage:4,exception:2}].forEach(function(e){var t=e.exception,a=e.data,r=e.activityValue,u=e.totalPage,n=o.find("TabHeader").instance().getCurrentPageByActivityValue(a,r,u);expect(n).toEqual(t)});case 3:case"end":return e.stop()}},e,void 0)})))});