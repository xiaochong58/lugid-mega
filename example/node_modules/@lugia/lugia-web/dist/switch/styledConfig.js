"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getThemeProps=getThemeProps;var _stateColor=require("../css/stateColor"),_stateColor2=_interopRequireDefault(_stateColor),_objectUtils=require("@lugia/object-utils"),_themeUtils=require("@lugia/theme-utils"),_units=require("../css/units");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var rem=_units.px2remcss,_colorsFunc=(0,_stateColor2.default)(),themeColor=_colorsFunc.themeColor,successColor=_colorsFunc.successColor,dangerColor=_colorsFunc.dangerColor,normalSize={width:38,height:20},smallSize={width:30,height:16},normallCircleSize={width:14,height:14},smallCircleSize={width:12,height:12},getStyled=function(e){var t=e.size,o=normalSize,r=normallCircleSize;return"small"==t&&(o=smallSize,r=smallCircleSize),{switchWrapperSize:o,circleSize:r}},getBackground=function(e,t){var o=e.isInverse,r=void 0;return t?(r=themeColor,o&&(r=successColor)):(r="#ccc",o&&(r=dangerColor)),r};function getThemeProps(e,t){var o=getStyled(e),r=o.switchWrapperSize,i=r.width,d=r.height,l=o.circleSize,h=l.width,s=l.height,n=e.getPartOfThemeProps,a=e.loading,c=e.disabled,g=n("Switch_SwitchOpen"),u=n("Switch_SwitchClosed"),m=getBackground(e,!0),b=getBackground(e,!1),f=e.getInternalThemeProps,p=f&&f()||{},_=u.themeConfig,w=(_=void 0===_?{}:_).normal,C=(w=void 0===w?{}:w).width,S=w.height,v=g.themeConfig,x=(v=void 0===v?{}:v).normal,B=(x=void 0===x?{}:x).width,P=x.height,U={normal:{width:C||i,height:S||d,border:(0,_themeUtils.getBorder)({color:"",style:"",width:0}),borderRadius:(0,_themeUtils.getBorderRadius)(20),boxShadow:"0 1px 1px 0 rgba(0, 0, 0, 0.05)",fontSize:12,color:"rgba(255, 255, 255, 0.8)",font:{fontWeight:"normal"},background:{color:m}},disabled:{background:{color:(0,_stateColor2.default)(m).disabledColor}}},z={normal:{width:B||i,height:P||d,border:(0,_themeUtils.getBorder)({color:"",style:"",width:0}),borderRadius:(0,_themeUtils.getBorderRadius)(20),fontSize:12,color:"rgba(255, 255, 255, 0.8)",font:{fontWeight:"normal"},background:{color:b}},disabled:{background:{color:"#ccc"===b?"#f2f2f2":(0,_stateColor2.default)(b).disabledColor}}},j=n("SwitchButton"),k=j.themeConfig,R=k.normal,W={normal:{width:h,height:s,background:{color:"#fff"},border:(0,_themeUtils.getBorder)({color:"",style:"",width:0}),borderRadius:(0,_themeUtils.getBorderRadius)("50%"),boxShadow:"0 1px 1px 0 rgba(0, 0, 0, 0.05)"},active:{width:h+4,height:s,background:{color:"#fff"},border:(0,_themeUtils.getBorder)({color:"",style:"",width:0}),borderRadius:(0,_themeUtils.getBorderRadius)(h/2)},disabled:(0,_objectUtils.deepMerge)({width:h,height:s,background:{color:"#fff"}},R)},M=(0,_objectUtils.deepMerge)(U,g.themeConfig),T=(0,_objectUtils.deepMerge)(M,z,u.themeConfig),y=t?M:T,q=(0,_objectUtils.deepMerge)(W,k),F=getSwitchButtonPosition(y,j.themeConfig=q,t),O=F.switchButtonPosition,D=F.textPosition,I=F.textBox,A={disabled:c||a};return{switchThemeProps:(0,_objectUtils.deepMerge)({themeConfig:y},{themeState:A},{propsConfig:{textPosition:D,textBox:I}},p),childrenThemeProps:(0,_objectUtils.deepMerge)(j,{themeState:A},{propsConfig:{switchButtonPosition:O}},p),SwitchContainerThemeProps:(0,_objectUtils.deepMerge)(n("Container"),{themeState:A},p)}}function getSwitchButtonPosition(e,t,o){var r=e.normal,i=r.height,d=r.width,l=r.border,h=(l=void 0===l?{}:l).left,s=(h=void 0===h?{}:h).borderWidth,n=void 0===s?0:s,a=l.right.borderWidth,c=void 0===a?0:a,g=t.normal,u=g.width,m=g.height,b=g.border,f=(b=void 0===b?{}:b).left,p=(f=void 0===f?{}:f).borderWidth,_=void 0===p?0:p,w=b.right,C=(w=void 0===w?{}:w).borderWidth,S=void 0===C?0:C,v=g.top,x=(v=void 0===v?{}:v).borderWidth,B=void 0===x?0:x,P=g.bottom,U=(P=void 0===P?{}:P).borderWidth,z=(i-m-B-(void 0===U?0:U))/2;return{switchButtonPosition:o?"right:"+z+"px":"left:"+z+"px",textPosition:o?"left:0;":"right:0;",textBox:"\n     width:"+rem(d-u-z-n-c-_-S)+";\n  "}}