"use strict";var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_react=require("react"),_react2=_interopRequireDefault(_react),_reactTestRenderer=require("react-test-renderer"),_reactTestRenderer2=_interopRequireDefault(_reactTestRenderer),_demo=require("../demo"),_popover=require("../popover"),_popover2=_interopRequireDefault(_popover),_icon=require("../../icon"),_icon2=_interopRequireDefault(_icon),_enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme);require("jest-styled-components");var _enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var o=e.apply(this,arguments);return new Promise(function(i,l){return function t(e,r){try{var n=o[e](r),a=n.value}catch(e){return void l(e)}if(!n.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});i(a)}("next")})}}_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default}),describe("popover Demo",function(){it("Component JSON",function(){global.svtest=!0;var e=_reactTestRenderer2.default.create(_react2.default.createElement(_demo.WrapperDemo,null));expect(e.toJSON()).toMatchSnapshot(),global.svtest=!1}),it("props: title",function(){var e="this is  title!",t=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{title:e},_react2.default.createElement("div",null)));expect(t.props().title).toBe(e)}),it("props: description ",function(){var e="this is  description!",t=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{description:e},_react2.default.createElement("div",null)));expect(t.props().description).toBe(e)}),it("props: description div",function(){var e=_react2.default.createElement("div",null,"this is description!"),t=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{description:e},_react2.default.createElement("div",null)));expect(t.props().description).toBe(e)}),it("props: content ",function(){var e=_react2.default.createElement("div",null,"this is content!"),t=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{content:e},_react2.default.createElement("div",null)));expect(t.props().content).toBe(e)}),it("props: content div",function(){var e=[_react2.default.createElement("div",null,"this is content!"),_react2.default.createElement("div",null,"this is content!")],t=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{content:e},_react2.default.createElement("div",null)));expect(t.props().content).toBe(e)}),it("props: clear = iconClass ",function(){var e="lugia-icon-reminder_close",t=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{clear:e},_react2.default.createElement("div",null)));expect(t.props().clear).toBe(e)}),it("props: clear = icon ",function(){var e=_react2.default.createElement("div",null,_react2.default.createElement(_icon2.default,{iconClass:"lugia-icon-reminder_close"})),t=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{clear:e},_react2.default.createElement("div",null)));expect(t.props().clear).toBe(e)});function t(e){return e.children().at(0).instance()}it("props: visible ",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{visible:!0},_react2.default.createElement("div",null)));expect(t(e).state.visible).toBe(!0)}),it("props: defaultVisible ",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{defaultVisible:!0},_react2.default.createElement("div",null)));expect(t(e).state.visible).toBe(!0)}),it("props: defaultVisible && visible ",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{defaultVisible:!0,visible:!1},_react2.default.createElement("div",null)));expect(t(e).state.visible).toBe(!1)});function r(e){r(e)}it("state: visible",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,null,_react2.default.createElement("div",null)));expect(t(e).state.visible).toBe(!1)}),it("state: visible && onVisibleChange",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{onVisibleChange:r},_react2.default.createElement("div",null)));e.setProps({visible:!0}),expect(t(e).state.visible).toBe(!0),e.setProps({visible:!1}),expect(t(e).state.visible).toBe(!1),e.setProps({visible:!0}),expect(t(e).state.visible).toBe(!0)}),it("props: limit visible && onVisibleChange",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{onVisibleChange:r,visible:!0},_react2.default.createElement("div",null)));t(e).setState({visible:!1}),expect(t(e).state.visible).toBe(!0)}),it("props: limit visible && onVisibleChange",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{onVisibleChange:r,visible:!1},_react2.default.createElement("div",null)));t(e).setState({visible:!0}),expect(t(e).state.visible).toBe(!1)}),it("props: onVisibleChange event",_asyncToGenerator(_regenerator2.default.mark(function e(){var r,n,t,a,i;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return!0},n=[],t=new Promise(function(t){r=function(e){n.push(e),2===n.length&&t(n)}}),a=(0,_enzyme.mount)(_react2.default.createElement(_popover2.default,{onVisibleChange:r},_react2.default.createElement("input",{className:"input"}))),(i=a.find(".input")).simulate("click",{}),i.simulate("click",{}),e.t0=expect,e.next=10,t;case 10:e.t1=e.sent,e.t2=[!0,!1],(0,e.t0)(e.t1).toEqual(e.t2);case 13:case"end":return e.stop()}},e,void 0)})))});