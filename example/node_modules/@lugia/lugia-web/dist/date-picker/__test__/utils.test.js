"use strict";var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_chai=require("chai"),_chai2=_interopRequireDefault(_chai),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme);require("jest-styled-components");var _differUtils=require("../utils/differUtils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,d){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void d(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var exp=_chai2.default.expect;_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default}),describe("default",function(){function e(e,s,d){it("getDates "+e,function(){var e=s.days,t=s.mode,a=s.value,n=s.params,r=(0,_differUtils.getDates)(e,t,a,n).dates;expect(r).toEqual(d)})}function t(e,a,n){it("WeeksPicker "+e,function(){var e=(0,_differUtils.getWeeksRangeInDates)(a);for(var t in e)expect(e[t]).toBe(n[t])})}e("getDates Function 1",{days:[28,29,30,31,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10],mode:"date",value:"2018-02-03",params:{weekIndex:4,format:"YYYY-MM-DD",year:2018,month:1,maxDay:28}},["2018-01-28","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-03","2018-02-04","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-10","2018-02-11","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-17","2018-02-18","2018-02-19","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-24","2018-02-25","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-03","2018-03-04","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-10"]),e("getDates Function 2",{days:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,1,2,3,4,5,6,7,8,9,10,11,12],mode:"date",value:"2018-04-07",params:{weekIndex:0,format:"YYYY-MM-DD",year:2018,month:3,maxDay:30}},["2018-04-01","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-07","2018-04-08","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-14","2018-04-15","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-21","2018-04-22","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-28","2018-04-29","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-05","2018-05-06","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-12"]),e("getDates Function 3",{days:[31,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,1,2,3,4,5,6,7,8,9,10,11],mode:"date",value:"2019-04-07",params:{weekIndex:1,format:"YYYY-MM-DD",year:2019,month:3,maxDay:30}},["2019-03-31","2019-04-01","2019-04-02","2019-04-03","2019-04-04","2019-04-05","2019-04-06","2019-04-07","2019-04-08","2019-04-09","2019-04-10","2019-04-11","2019-04-12","2019-04-13","2019-04-14","2019-04-15","2019-04-16","2019-04-17","2019-04-18","2019-04-19","2019-04-20","2019-04-21","2019-04-22","2019-04-23","2019-04-24","2019-04-25","2019-04-26","2019-04-27","2019-04-28","2019-04-29","2019-04-30","2019-05-01","2019-05-02","2019-05-03","2019-05-04","2019-05-05","2019-05-06","2019-05-07","2019-05-08","2019-05-09","2019-05-10","2019-05-11"]),e("getDates Function 4",{days:[28,29,30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,1,2,3,4,5,6,7,8],mode:"date",value:"2019-05-07",params:{weekIndex:3,format:"YYYY-MM-DD",year:2019,month:4,maxDay:31}},["2019-04-28","2019-04-29","2019-04-30","2019-05-01","2019-05-02","2019-05-03","2019-05-04","2019-05-05","2019-05-06","2019-05-07","2019-05-08","2019-05-09","2019-05-10","2019-05-11","2019-05-12","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-18","2019-05-19","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-25","2019-05-26","2019-05-27","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-01","2019-06-02","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07","2019-06-08"]),e("getDates Function 5",{days:[28,29,30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,1,2,3,4,5,6,7,8],mode:"weeks",value:"2019-05-07",params:{weekIndex:3,format:"YYYY-MM-DD",year:2019,month:4,maxDay:31}},["2019-04-28","2019-04-29","2019-04-30","2019-05-01","2019-05-02","2019-05-03","2019-05-04","2019-05-05","2019-05-06","2019-05-07","2019-05-08","2019-05-09","2019-05-10","2019-05-11","2019-05-12","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-18","2019-05-19","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-25","2019-05-26","2019-05-27","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-01","2019-06-02","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07","2019-06-08"]);function a(e){return function(){return e}}t("getWeeksRangeInDates Function 1",{month:a(10),year:a(2018),weeks:a(47)},{month:10,year:2018,weeks:47}),t("getWeeksRangeInDates Function 2",{month:a(0),year:a(2018),weeks:a(1)},{month:0,year:2018,weeks:1}),t("getWeeksRangeInDates Function 3",{month:a(11),year:a(2018),weeks:a(1)},{month:11,year:2019,weeks:1});function n(e,i,u){it("DatePicker "+e,function(){var e=i.weekStartDate,t=i.weekIndex,a=i.isStartOfWeek,n=function(e,t){var a="startOf";t||(a="endOf");return _defineProperty({},a,function(){return{date:function(){return e}}})}(e,a),r=(0,_differUtils.getRangeIndexfromWeeks)(n,t,a),s=r.endInWeeks,d=r.startInWeeks;expect(d).toBe(u[0]),expect(s).toBe(u[1])})}function r(e,i,u,o){var x=this;it("onChange "+e,_asyncToGenerator(_regenerator2.default.mark(function e(){var t,a,n,r,s,d;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=i.weeks,a=i.step,n=u.weeksInYear,r=(0,_differUtils.getWeeksRange)(t,n,a),s=r.weeksDate,d=r.rangeIndex,expect(s).toEqual(o.weeksDate),expect(d).toEqual(o.rangeIndex);case 5:case"end":return e.stop()}},e,x)})))}function s(e,r,s){it(""+e,function(){var e=r.data,t=r.number,a=r.item,n=(0,_differUtils.getCoversTimes)(e,t,a);expect(n).toEqual(s)})}n("getRangeIndexfromWeeks-1 true",{weekStartDate:9,weekIndex:6,isStartOfWeek:!0},[15,21]),n("getRangeIndexfromWeeks-2 true",{weekStartDate:2,weekIndex:6,isStartOfWeek:!0},[8,14]),n("getRangeIndexfromWeeks-3 true",{weekStartDate:2,weekIndex:6,isStartOfWeek:!0},[8,14]),n("getRangeIndexfromWeeks-4 true",{weekStartDate:30,weekIndex:6,isStartOfWeek:!0},[36,42]),n("getRangeIndexfromWeeks-5 false",{weekStartDate:5,weekIndex:2,isStartOfWeek:!1},[1,7]),n("getRangeIndexfromWeeks-6 false",{weekStartDate:1,weekIndex:6,isStartOfWeek:!1},[1,7]),n("getRangeIndexfromWeeks-6 false",{weekStartDate:4,weekIndex:3,isStartOfWeek:!1},[1,7]),r("getWeeksRange 1",{mode:"week",weeks:2,step:12},{weeksInYear:52},{weeksDate:[{end:12,index:0,start:1,text:"1-12周",value:0},{end:24,index:1,start:13,text:"13-24周",value:1},{end:36,index:2,start:25,text:"25-36周",value:2},{end:48,index:3,start:37,text:"37-48周",value:3},{end:52,index:4,start:49,text:"49-52周",value:4}],rangeIndex:0}),r("getWeeksRange 2",{mode:"week",weeks:10,step:12},{weeksInYear:53},{weeksDate:[{end:12,index:0,start:1,text:"1-12周",value:0},{end:24,index:1,start:13,text:"13-24周",value:1},{end:36,index:2,start:25,text:"25-36周",value:2},{end:48,index:3,start:37,text:"37-48周",value:3},{end:53,index:4,start:49,text:"49-53周",value:4}],rangeIndex:0}),r("getWeeksRange 3",{mode:"week",weeks:11,step:10},{weeksInYear:53},{weeksDate:[{end:10,index:0,start:1,text:"1-10周",value:0},{end:20,index:1,start:11,text:"11-20周",value:1},{end:30,index:2,start:21,text:"21-30周",value:2},{end:40,index:3,start:31,text:"31-40周",value:3},{end:50,index:4,start:41,text:"41-50周",value:4},{end:53,index:5,start:51,text:"51-53周",value:5}],rangeIndex:1}),r("getWeeksRange 4",{mode:"month",weeks:53,step:10},{weeksInYear:53},{weeksDate:[{end:10,index:0,start:1,text:"1-10周",value:0},{end:20,index:1,start:11,text:"11-20周",value:1},{end:30,index:2,start:21,text:"21-30周",value:2},{end:40,index:3,start:31,text:"31-40周",value:3},{end:50,index:4,start:41,text:"41-50周",value:4},{end:53,index:5,start:51,text:"51-53周",value:5}],rangeIndex:5}),s("getCoversTimes 1",{data:[1,2,3,4],number:7,item:{}},[1,2,3,4,{},{},{},{},{},{}]),s("getCoversTimes 2",{data:[1,2,3,4],number:6,item:"b"},[1,2,3,4,"b","b","b","b","b"]),s("getCoversTimes 3",{data:[1],number:6,item:"c"},[1,"c","c","c","c","c"]),s("getCoversTimes 4",{data:[1,2],number:5,item:"d"},[1,2,"d","d","d","d"])});