"use strict";var _react=require("react"),React=_interopRequireWildcard(_react),_chai=require("chai"),_chai2=_interopRequireDefault(_chai),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme);require("jest-styled-components");var _Date=require("../panel/Date"),_Date2=_interopRequireDefault(_Date),_getDerived=require("../utils/getDerived");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var exp=_chai2.default.expect;_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default}),describe("default",function(){function s(e,t){return e.find(t).at(0).instance()}var v={themeConfig:{},themeState:{},propsConfig:{}},f={getPartOfThemeProps:function(){return Object.assign({},v)},getPartOfThemeHocProps:function(){return{viewClass:{}}}};function e(e,a,r,n,o){it("getDaysInMonth "+e,function(){var e=(0,_getDerived.getDerived)(a),t="";s((0,_enzyme.mount)(React.createElement(_Date2.default,Object.assign({themeProps:Object.assign({},v)},f,{panelStates:e,changeHead:function(e){t=e}}))),"Date").getDaysInMonth(r,n)(),expect(t).toBe(o.newValue)})}function t(e,o,i,d){it("DatePicker "+e,function(){var e=(0,_getDerived.getDerived)(o),t="",a=s((0,_enzyme.mount)(React.createElement(_Date2.default,Object.assign({themeProps:Object.assign({},v)},f,{panelStates:e,onChange:function(e){t=e}}))),"Dates"),r=i.index,n=i.child;a.onDateChange(r,n)(),expect(t.newValue).toBe(d.newValue)})}e("click month add",{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},"month","add",{newValue:"2018-11-01"}),e("click month subtract",{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},"month","subtract",{newValue:"2018-09-01"}),e("click year add",{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},"year","add",{newValue:"2019-10-01"}),e("click year subtract",{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},"year","subtract",{newValue:"2017-10-01"});for(var a=[30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,1,2,3,4,5,6,7,8,9,10],r=0;r<1;r++)t("onDateChange index "+r+" child "+a[r],{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},{index:r,child:a[r]},{newValue:"2018-09-30"});for(var n=1;n<32;n++){var o=a[n];1===a[n].toString().length&&(o="0"+a[n]),t("onDateChange index "+n+" child "+a[n],{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},{index:n,child:a[n]},{newValue:"2018-10-"+o})}for(var i=32;i<42;i++){var d=a[i];1===a[i].toString().length&&(d="0"+a[i]),t("onDateChange index "+i+" child "+a[i],{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},{index:i,child:a[i]},{newValue:"2018-11-"+d})}function u(e,n,o,i){it("DatePicker "+e,function(){var e=(0,_getDerived.getDerived)(n),t="",a=s((0,_enzyme.mount)(React.createElement(_Date2.default,Object.assign({themeProps:Object.assign({},v)},f,{panelStates:e,getMode:function(e){t=e}}))),"Date");for(var r in a.getMode(o.mode,o.from),i)expect(t[r]).toBe(i[r])})}function l(e,d,u,l,c){it("WeeksPicker "+e,function(){var e=(0,_getDerived.getDerived)(d),t=s((0,_enzyme.mount)(React.createElement(_Date2.default,Object.assign({themeProps:Object.assign({},v)},f,{panelStates:e}))),"Date"),a=u.index,r=u.child;t.onMouseOver(a,r),"onMouseOut"===c&&t.onMouseOut();var n=t.state,o=n.weekHoverStart,i=n.weekHoverEnd;expect(o).toBe(l.weekHoverStart),expect(i).toBe(l.weekHoverEnd)})}u("getMode year",{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},{mode:"year",from:"date"},{mode:"year",from:"date"}),u("getMode getMode month",{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},{mode:"month",from:"date"},{mode:"month",from:"date"}),u("getMode getMode month",{value:"2018-10-01",format:"YYYY-MM-DD",mode:"date",firstWeekDay:0,valueIsValid:!0,hasOldValue:!0},{mode:"week",from:"date"},{mode:"week",from:"date"}),l("onMouseOver Function",{value:"2018-02"},{index:14,child:14},{weekHoverStart:15,weekHoverEnd:21}),l("onMouseOver Function",{value:"2018-02"},{index:10,child:10},{weekHoverStart:8,weekHoverEnd:14}),l("onMouseOver Function",{value:"2018-10"},{index:0,child:25},{weekHoverStart:1,weekHoverEnd:7}),l("onMouseOver Function",{value:"2018-05"},{index:35,child:4},{weekHoverStart:36,weekHoverEnd:42}),l("onMouseOver Function",{value:"2018-05",firstWeekDay:1},{index:7,child:5},{weekHoverStart:8,weekHoverEnd:14}),l("onMouseOver Function",{value:"2018-05",firstWeekDay:2},{index:7,child:6},{weekHoverStart:8,weekHoverEnd:14}),l("onMouseOver Function",{value:"2018-05",firstWeekDay:2},{index:14,child:13},{weekHoverStart:15,weekHoverEnd:21}),l("onMouseOver Function",{value:"2018-05",firstWeekDay:3},{index:14,child:14},{weekHoverStart:15,weekHoverEnd:21}),l("onMouseOver Function",{value:"2018-05",firstWeekDay:4},{index:0,child:1},{weekHoverStart:1,weekHoverEnd:7}),l("onMouseOver Function",{value:"2018-05",firstWeekDay:5},{index:14,child:9},{weekHoverStart:15,weekHoverEnd:21}),l("onMouseOver Function",{value:"2018-05",firstWeekDay:6},{index:0,child:30},{weekHoverStart:1,weekHoverEnd:7}),l("onMouseOut Function",{value:"2018-05",firstWeekDay:6},{index:0,child:30},{weekHoverStart:"",weekHoverEnd:""},"onMouseOut")});