"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_input=require("../../input"),_input2=_interopRequireDefault(_input),_styledRangeInput=require("../styled/styledRangeInput"),_theme=require("../../theme"),_theme2=_interopRequireDefault(_theme),_index=require("../../consts/index"),_index2=_interopRequireDefault(_index),_themeUtils=require("@lugia/theme-utils"),_themeConfig=require("../themeConfig/themeConfig"),_themeHoc=require("@lugia/theme-hoc"),_InputIcon=require("../panel/InputIcon"),_InputIcon2=_interopRequireDefault(_InputIcon),_utils=require("../styled/utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var borderSize=_utils.themeColor.borderSize,RangeInput=function(){function e(){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.onChangeFirst=function(e){i.onChange(0,e)},i.onChangeSecond=function(e){i.onChange(1,e)},i.onChange=function(e,t){var n=t.newValue,r=t.event,o=i.props.value;o[e]=n;var a=i.props.onChange;a&&a({event:r,newValue:o,oldValue:i.oldValue,number:e})},i.onHandleClick=function(e){var t=i.props.onClick;t&&t(e)},i.onFocus=function(e){var t=i.props.value;i.oldValue=[].concat(_toConsumableArray(t));var n=i.props.onFocus;n&&n()},i.onBlur=function(){var e=i.props.onBlur;e&&e()},i.onClear=function(e){var t=i.props.onClear;t&&t(e)},i.getInputStyle=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={};return["color","fontSize","font","background"].forEach(function(e){e in t&&(n[e]=t[e])}),n},i.oldValue=[],i}return _inherits(e,_react.Component),_createClass(e,[{key:"render",value:function(){function e(e){return Object.assign({border:(0,_themeUtils.getBorder)({style:"",width:0,color:""}),outline:"none",boxShadow:{x:"",y:"",blur:"",spread:"",color:"",type:""}},t.getInputStyle(e))}var t=this,n=this.props.value,r=this.props,o=r.disabled,a=r.readOnly,i=r.placeholder,u={onFocus:o||a?"":this.onFocus,disabled:o,readOnly:a},l=this.props,s=l.mode,c=l.getPartOfThemeProps,p=(0,_themeConfig.getWrapThemeProps)({mode:s,getPartOfThemeProps:c},"Container"),d=(0,_themeConfig.getIconTheme)(this.props),f=d.inputPrefixProps,h=d.inputSuffixProps,g=d.clearButtonProps,_=p.themeConfig,b=_.normal,m=void 0===b?{}:b,v=_.hover,y=void 0===v?{}:v,C=_.focus,I=void 0===C?{}:C,O=_.active,R=void 0===O?{}:O,P=_.disabled,j=void 0===P?{}:P,w=m.height,x=m.border,E=(x=void 0===x?{}:x).top,q=(E=void 0===E?{}:E).width,S=void 0===q?borderSize:q,k=x.bottom,B=(k=void 0===k?{}:k).width,T=void 0===B?borderSize:B,A=f.themeConfig,D=(0,_InputIcon2.default)(Object.assign({},this.props,{onClear:this.onClear,clearButtonTheme:g})),F=D.suffixIcon,V=D.prefixIcon;return _react2.default.createElement(_theme2.default,{config:_defineProperty({},_index2.default.Input,{Container:{normal:{width:"100%",height:w-(1*S+1*T)}},Input:{normal:Object.assign({padding:{right:2}},e(m),{background:{color:"transparent"}}),hover:Object.assign({},e(y),{background:{color:"transparent"}}),focus:Object.assign({},e(I),{background:{color:"transparent"}}),active:Object.assign({},e(R),{background:{color:"transparent"}}),disabled:Object.assign({border:(0,_themeUtils.getBorder)({style:"",width:0,color:""})},this.getInputStyle(j))},InputPrefix:Object.assign({disabled:{color:"#ddd"}},A),InputSuffix:Object.assign({disabled:{color:"#ddd"}},h.themeConfig)})},_react2.default.createElement(_styledRangeInput.RangeInputWrap,Object.assign({mode:s,disabled:o,onClick:a||o?"":this.onHandleClick,themeProps:p},(0,_themeHoc.addMouseEvent)(this)),_react2.default.createElement(_styledRangeInput.RangeInputInner,{themeProps:p,disabled:o},_react2.default.createElement(_styledRangeInput.RangeInputInnerInput,{themeProps:p},_react2.default.createElement(_input2.default,Object.assign({},V,{value:n[0],onChange:this.onChangeFirst,placeholder:i[0],onBlur:this.onBlur},u,{suffix:_react2.default.createElement("i",null)},this.props.dispatchEvent([["hover"]],"f2c")))),_react2.default.createElement(_styledRangeInput.RangeMiddleSpan,Object.assign({themeProps:p},this.props.dispatchEvent([["hover"]],"f2c")),"~"),_react2.default.createElement(_styledRangeInput.RangeInputInnerInput,{themeProps:p},_react2.default.createElement(_input2.default,Object.assign({},F,{value:n[1],onChange:this.onChangeSecond,onBlur:this.onBlur,placeholder:i[1]},u,this.props.dispatchEvent([["hover"]],"f2c")))))))}}]),e}();RangeInput.dispalyName="RangeInput",exports.default=RangeInput;