"use strict";var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_react=require("react"),_react2=_interopRequireDefault(_react),_reactTestRenderer=require("react-test-renderer"),_reactTestRenderer2=_interopRequireDefault(_reactTestRenderer);require("jest-styled-components");var _enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme),_chai=require("chai"),_chai2=_interopRequireDefault(_chai),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_reactTestUtils=require("@lugia/react-test-utils"),_demo=require("../demo"),_demo2=_interopRequireDefault(_demo),_notification=require("../notification"),_notification2=_interopRequireDefault(_notification);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var c=e.apply(this,arguments);return new Promise(function(i,o){return function t(e,r){try{var n=c[e](r),a=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});i(a)}("next")})}}var exp=_chai2.default.expect;_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default}),describe("Notification",function(){function n(e){return e.instance().state}it("css",function(){var e=_react2.default.createElement(_demo2.default,null);expect(_reactTestRenderer2.default.create(e).toJSON()).toMatchSnapshot()}),it("Notification state",_asyncToGenerator(_regenerator2.default.mark(function e(){var t,r;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,_enzyme.mount)(_react2.default.createElement(_notification2.default,{create:!1,duration:4.5,title:"今天天气很好！",description:"因为今天的太阳很大。"})),r=n(t),expect(r.opening).toBe(!0),e.next=5,(0,_reactTestUtils.delay)(1e3);case 5:return expect(n(t).opening).toBe(!0),e.next=8,(0,_reactTestUtils.delay)(3500);case 8:return expect(n(t).closing).toBe(!0),e.next=11,(0,_reactTestUtils.delay)(400);case 11:expect(n(t).closing).toBe(!1),expect(n(t).visible).toBe(!1);case 13:case"end":return e.stop()}},e,void 0)}))),it("Notification handleDuration",_asyncToGenerator(_regenerator2.default.mark(function e(){var t,r,n,a,i,o;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,_enzyme.mount)(_react2.default.createElement(_notification2.default,{create:!1,duration:4.5,title:"今天天气很好！",description:"因为今天的太阳很大。"})),r=t.instance(),n=r.handleDuration(4.5),expect(n).toBe(4.5),a=r.handleDuration(0),expect(a).toBe("no"),i=r.handleDuration(null),expect(i).toBe("no"),o=r.handleDuration(),expect(o).toBe(4.5);case 10:case"end":return e.stop()}},e,void 0)})))});