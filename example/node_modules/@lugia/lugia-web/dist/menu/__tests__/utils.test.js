"use strict";require("jest-styled-components");var _utils=require("../utils");describe("Menu utils",function(){it("isRoot ",function(){expect((0,_utils.isRoot)(0)).toBeTruthy(),expect((0,_utils.isRoot)(1)).toBeFalsy(),expect((0,_utils.isRoot)("0")).toBeFalsy(),expect((0,_utils.isRoot)(void 0)).toBeFalsy(),expect((0,_utils.isRoot)([])).toBeFalsy(),expect((0,_utils.isRoot)({})).toBeFalsy()}),it("getSelectedKeys ",function(){expect((0,_utils.getSelectedKeys)({selectedKeys:[1,2,3]},{})).toEqual([1,2,3]),expect((0,_utils.getSelectedKeys)({selectedKeys:[1,2,3]},{selectedKeys:[4,5,6]})).toEqual([1,2,3]),expect((0,_utils.getSelectedKeys)({selectedKeys:[]},{selectedKeys:[4,5,6]})).toEqual([]),expect((0,_utils.getSelectedKeys)({},{selectedKeys:[4,5,6]})).toEqual([4,5,6])}),it("getPopupVisible ",function(){expect((0,_utils.getPopupVisible)({popupVisible:!0},{})).toBeTruthy(),expect((0,_utils.getPopupVisible)({popupVisible:!1},{})).toBeFalsy(),expect((0,_utils.getPopupVisible)({popupVisible:!0},{childData:[1,2,3]})).toBeTruthy(),expect((0,_utils.getPopupVisible)({popupVisible:!1},{childData:[1,2,3]})).toBeFalsy(),expect((0,_utils.getPopupVisible)({},{childData:[1,2,3]})).toBeTruthy()}),it("getTargetOrDefaultTarget ",function(){expect((0,_utils.getTargetOrDefaultTarget)(!0,5,6)).toBe(5),expect((0,_utils.getTargetOrDefaultTarget)(!1,5,6)).toBe(6)}),it("getExpandedPath ",function(){expect((0,_utils.getExpandedPath)({expandedPath:[1,2]},{})).toEqual([1,2]),expect((0,_utils.getExpandedPath)({expandedPath:[1,2]},{expandedPath:[5,6]})).toEqual([1,2]),expect((0,_utils.getExpandedPath)({},{expandedPath:[5,6]})).toEqual([5,6])});var e=[{text:"1",value:"1",disabled:!1,children:[{text:"1-1",value:"1-1",disabled:!1,children:[{text:"1-1-1",value:"1-1-1",disabled:!1,children:[{text:"1-1-1-1",value:"1-1-1-1",disabled:!1,children:[{text:"1-1-1-1-1",value:"1-1-1-1-1",disabled:!1}]}]}]}]},{text:"2",value:"2",disabled:!1},{text:"3",value:"3",disabled:!1}],t=[{describe:void 0,disabled:!1,icon:void 0,isLeaf:!1,pid:void 0,text:"1",value:"1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!1,path:"1",pid:"1",text:"1-1",value:"1-1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!1,path:"1/1-1",pid:"1-1",text:"1-1-1",value:"1-1-1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!1,path:"1/1-1/1-1-1",pid:"1-1-1",text:"1-1-1-1",value:"1-1-1-1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!0,path:"1/1-1/1-1-1/1-1-1-1",pid:"1-1-1-1",text:"1-1-1-1-1",value:"1-1-1-1-1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!0,pid:void 0,text:"2",value:"2"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!0,pid:void 0,text:"3",value:"3"}];it("getCascaderKeys ",function(){expect((0,_utils.getCascaderKeys)([],"/")).toEqual([]),expect((0,_utils.getCascaderKeys)(["苦"],"/")).toEqual(["苦"]),expect((0,_utils.getCascaderKeys)(["苦/乐"],"/")).toEqual(["苦","乐"]),expect((0,_utils.getCascaderKeys)(["苦/乐/莫/多/愿"],"/")).toEqual(["苦","乐","莫","多","愿"]),expect((0,_utils.getCascaderKeys)(["苦"],"|")).toEqual(["苦"]),expect((0,_utils.getCascaderKeys)(["苦|乐"],"|")).toEqual(["苦","乐"]),expect((0,_utils.getCascaderKeys)(["苦|乐|莫|多|愿"],"|")).toEqual(["苦","乐","莫","多","愿"])}),it("letExpandpathOrSelectedKeysToArray ",function(){expect((0,_utils.letExpandpathOrSelectedKeysToArray)({},null)).toEqual([]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({},void 0)).toEqual([]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({},"")).toEqual([]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({},[])).toEqual([]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1"])).toEqual(["1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1"])).toEqual(["1","1-1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1/1-1-1"])).toEqual(["1","1-1","1-1-1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1/1-1-1/1-1-1-1"])).toEqual(["1","1-1","1-1-1","1-1-1-1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/2-1/1-1-1/1-1-1-1"])).toEqual(["1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1/1-2-1/1-1-1-1"])).toEqual(["1","1-1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1/1-1-1/1-2-1-1"])).toEqual(["1","1-1","1-1-1"])}),it("getExpandDataOrSelectData ",function(){expect((0,_utils.getExpandDataOrSelectData)({},null)).toEqual([]),expect((0,_utils.getExpandDataOrSelectData)({},void 0)).toEqual([]),expect((0,_utils.getExpandDataOrSelectData)({},"")).toEqual([]),expect((0,_utils.getExpandDataOrSelectData)({},[])).toEqual([]),expect((0,_utils.getExpandDataOrSelectData)({},"")).toEqual([]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1"])).toEqual(["1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1"])).toEqual(["1","1-1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1/1-1-1"])).toEqual(["1","1-1","1-1-1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1/1-1-1/1-1-1-1"])).toEqual(["1","1-1","1-1-1","1-1-1-1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/2-1/1-1-1/1-1-1-1"])).toEqual(["1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1/1-2-1/1-1-1-1"])).toEqual(["1","1-1"]),expect((0,_utils.letExpandpathOrSelectedKeysToArray)({data:e,separator:"/"},["1/1-1/1-1-1/1-2-1-1"])).toEqual(["1","1-1","1-1-1"])}),it("getExpandedPathFromPropsOrState ",function(){expect((0,_utils.getExpandedPathFromPropsOrState)({expandedPath:["1"]},{expandedPath:["2"]})).toEqual(["1"]),expect((0,_utils.getExpandedPathFromPropsOrState)({expandedPath:[]},{expandedPath:["2"]})).toEqual([]),expect((0,_utils.getExpandedPathFromPropsOrState)({},{expandedPath:["2"]})).toEqual(["2"])}),it("getExpandedData ",function(){expect((0,_utils.getExpandedData)({expandedData:["1","2"],level:1},{})).toEqual(["1","2"]),expect((0,_utils.getExpandedData)({expandedData:["1","2"],level:0},{})).toEqual([]),expect((0,_utils.getExpandedData)({expandedData:["1","2"],level:0,expandedPath:[]},{})).toEqual([]),expect((0,_utils.getExpandedData)({data:e,expandedData:["1","2"],level:0,expandedPath:["1/1-1/1-1-1"],separator:"/"},{})).toEqual(["1","1-1","1-1-1"]),expect((0,_utils.getExpandedData)({data:e,expandedData:["1","2"],level:0,expandedPath:["1/1-1/1-1-1"],separator:"/"},{expandedPath:["1/1-1"]})).toEqual(["1","1-1","1-1-1"]),expect((0,_utils.getExpandedData)({data:e,expandedData:["1","2"],level:0,separator:"/"},{expandedPath:["1/1-1"]})).toEqual(["1","1-1"])}),it("getTreeData ",function(){expect((0,_utils.getTreeData)({})).toEqual([]),expect((0,_utils.getTreeData)({data:e})).toEqual(t),expect((0,_utils.getTreeData)({data:e},"+")).toEqual([{describe:void 0,disabled:!1,icon:void 0,isLeaf:!1,pid:void 0,text:"1",value:"1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!1,path:"1",pid:"1",text:"1-1",value:"1-1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!1,path:"1+1-1",pid:"1-1",text:"1-1-1",value:"1-1-1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!1,path:"1+1-1+1-1-1",pid:"1-1-1",text:"1-1-1-1",value:"1-1-1-1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!0,path:"1+1-1+1-1-1+1-1-1-1",pid:"1-1-1-1",text:"1-1-1-1-1",value:"1-1-1-1-1"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!0,pid:void 0,text:"2",value:"2"},{describe:void 0,disabled:!1,icon:void 0,isLeaf:!0,pid:void 0,text:"3",value:"3"}])});var a={0:[{children:[{children:[{children:[{disabled:!1,text:"1-1-1-1-1",value:"1-1-1-1-1"}],disabled:!1,text:"1-1-1-1",value:"1-1-1-1"}],disabled:!1,text:"1-1-1",value:"1-1-1"}],disabled:!1,text:"1-1",value:"1-1"}],1:[{children:[{children:[{disabled:!1,text:"1-1-1-1-1",value:"1-1-1-1-1"}],disabled:!1,text:"1-1-1-1",value:"1-1-1-1"}],disabled:!1,text:"1-1-1",value:"1-1-1"}],2:[{children:[{disabled:!1,text:"1-1-1-1-1",value:"1-1-1-1-1"}],disabled:!1,text:"1-1-1-1",value:"1-1-1-1"}]};it("getInitAllChildData more level tree",function(){var e=[{text:"1",value:"1",disabled:!1,children:[{text:"1-1",value:"1-1",disabled:!1,children:[{text:"1-1-1",value:"1-1-1",disabled:!1,children:[{text:"1-1-1-1",value:"1-1-1-1",disabled:!1,children:[{text:"1-1-1-1-1",value:"1-1-1-1-1",disabled:!1}]},{text:"2-1-1-1",value:"2-1-1-1",disabled:!1,children:[{text:"2-1-1-1-1",value:"2-1-1-1-1",disabled:!1},{text:"2-1-1-1-2",value:"2-1-1-1-2",disabled:!1}]}]},{text:"2-1-1",value:"2-1-1",disabled:!1}]},{text:"2-1",value:"2-1",disabled:!1}]},{text:"a2",value:"a2",disabled:!1,children:[{text:"a2-1",value:"a2-1",disabled:!1}]}];expect((0,_utils.getInitAllChildData)({data:e,expandedData:["1"],level:0,expandedPath:["1/1-1/1-1-1"],separator:"/"},{})).toEqual({0:e[0].children,1:e[0].children[0].children,2:e[0].children[0].children[0].children})}),it("getInitAllChildData ",function(){expect((0,_utils.getInitAllChildData)({},{})).toEqual({}),expect((0,_utils.getInitAllChildData)({data:e},{})).toEqual({}),expect((0,_utils.getInitAllChildData)({data:e,expandedData:["1"],level:0,expandedPath:["1/1-1/1-1-1"],separator:"/"},{})).toEqual(a),expect((0,_utils.getInitAllChildData)({data:e,expandedData:["1"],level:1,expandedPath:["1/1-1/1-1-1"],separator:"/"},{})).toEqual({0:[{children:[{children:[{children:[{disabled:!1,text:"1-1-1-1-1",value:"1-1-1-1-1"}],disabled:!1,text:"1-1-1-1",value:"1-1-1-1"}],disabled:!1,text:"1-1-1",value:"1-1-1"}],disabled:!1,text:"1-1",value:"1-1"}]})}),it("getChildData ",function(){expect((0,_utils.getChildData)({},{})).toEqual([]),expect((0,_utils.getChildData)({level:0,allChildData:a},{})).toEqual([]),expect((0,_utils.getChildData)({level:1,allChildData:a,expandedPath:["1/1-1/1-1-1"],expandedData:["1","1-1","1-1-1"]},{})).toEqual([{children:[{children:[{disabled:!1,text:"1-1-1-1-1",value:"1-1-1-1-1"}],disabled:!1,text:"1-1-1-1",value:"1-1-1-1"}],disabled:!1,text:"1-1-1",value:"1-1-1"}]),expect((0,_utils.getChildData)({level:0,separator:"/",data:e,allChildData:a,expandedPath:["1/1-1/1-1-1"],expandedData:["1","1-1","1-1-1"]},{})).toEqual([{children:[{children:[{children:[{disabled:!1,text:"1-1-1-1-1",value:"1-1-1-1-1"}],disabled:!1,text:"1-1-1-1",value:"1-1-1-1"}],disabled:!1,text:"1-1-1",value:"1-1-1"}],disabled:!1,text:"1-1",value:"1-1"}])})});