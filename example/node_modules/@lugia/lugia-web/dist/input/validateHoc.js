"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_objectUtils=require("@lugia/object-utils"),_themeCommonDict=require("../css/theme-common-dict"),_themeCommonDict2=_interopRequireDefault(_themeCommonDict),_index=require("../tooltip/index"),_index2=_interopRequireDefault(_index),_validateHoc=require("../css/validateHoc"),_validateCSS=require("./validateCSS");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ValidateHoc=function(v,C){function n(){var e,t,i;_classCallCheck(this,n);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=i=_possibleConstructorReturn(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a)))).state={_isValidateVisible:!1},i.onFocus=function(e){var t=i.props,r=t.onFocus,a=t.disabled,o=t.readOnly;a||o||(i.setState({_isValidateVisible:!1}),r&&r(e))},i.onBlur=function(e){var t=i.props,r=t.onBlur,a=t.disabled,o=t.readOnly;a||o||(i.setState({_isValidateVisible:!0}),r&&r(e))},_possibleConstructorReturn(i,t)}return _inherits(n,_react2.default.Component),_createClass(n,[{key:"render",value:function(){var e=this.props,t=e.validateType,r=e.validateStatus,a=e.help,o=e.getPartOfThemeHocProps,i=e.getPartOfThemeProps,n=e.isValidate,l=void 0===n||n,s=this.state._isValidateVisible,u=a||_validateHoc.DefaultHelp,c=_react2.default.createElement(v,Object.assign({},this.props,{onFocus:this.onFocus,onBlur:this.onBlur,validateTextThemeProps:function(){return i("ValidateErrorText")}}));if(!l)return c;if("top"===t){var p=o("ValidateErrorText"),d=p.theme,f=p.viewClass,_=_defineProperty({},f,{Container:(0,_objectUtils.deepMerge)({normal:{background:{color:(0,_themeCommonDict2.default)("darkGreyColor")},getCSS:function(){return"display: inline-block;"}}},d[f]),TooltipTitle:(0,_objectUtils.deepMerge)({normal:{color:(0,_themeCommonDict2.default)("defaultColor")}},d[f]),ChildrenContainer:{normal:{getCSS:function(){return"display: block;width:100%;height:100%;"}}}});return _react2.default.createElement(_index2.default,{theme:_,viewClass:f,title:u,action:"focus",popArrowType:"round",placement:"topLeft",visible:(0,_validateHoc.isValidateError)(r)&&!s},c)}var m="inner"===t?{_isValidateVisible:s}:{},h=i("ValidateErrorText",{props:Object.assign({validateStatus:r},m)});if("bottom"===t)return _react2.default.createElement(_validateCSS.BottomContainer,{themeProps:i("Container")},c,_react2.default.createElement(_validateCSS.TipBottom,{themeProps:h},u));if("inner"!==t)return c;var b=this.props.getPartOfThemeProps;return _react2.default.createElement(_validateCSS.FatherContainer,{displayName:C,themeProps:b("Container")},c,_react2.default.createElement(_validateCSS.InnerTipText,{themeProps:h},u))}}]),n};exports.default=ValidateHoc;