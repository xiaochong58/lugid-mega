"use strict";var _react=require("react"),_react2=_interopRequireDefault(_react);require("jest-styled-components");var _enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_index=require("../index"),_index2=_interopRequireDefault(_index),_cascader=require("../cascader"),_cascader2=_interopRequireDefault(_cascader),_index3=require("../../consts/index"),_index4=_interopRequireDefault(_index3);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var data=[{text:"一级菜单1",value:"a1",disabled:!1},{text:"一级菜单2",value:"a2",disabled:!1},{text:"一级菜单3",value:"a3",disabled:!1},{text:"一级菜单4",value:"a4",disabled:!1,children:[{text:"次级菜单4-1",value:"a4-1",children:[{text:"三级菜单4-1-1",value:"a4-1-1"}]}]},{text:"一级菜单5",value:"a5",disabled:!0},{text:"一级菜单6",value:"a6",disabled:!0,children:[{text:"次级菜单6-1",value:"a6-1"},{text:"次级菜单6-2",value:"a6-2"}]},{text:"一级菜单7",value:"a7",disabled:!0},{text:"一级菜单8",value:"a8",disabled:!1},{text:"一级菜单9",value:"a9",disabled:!0},{text:"一级菜单10",value:"a10",disabled:!1}];_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default}),describe("Cascader",function(){function t(e,t,l){for(var c=0;c<t;c++)l.includes(c)?expect(n(e).at(c).prop("checked")).toBe(!0):expect(n(e).at(c).prop("checked")).toBe(!1)}function l(e){return o(e).at(0).prop("displayValue")}function n(e){return e.find(_index4.default.MenuItem)}function c(e){return e.find(_index4.default.Empty)}function a(e){return e.find(_index4.default.Menu)}function o(e){return e.find(_index4.default.InputTag)}function x(e){return o(e).at(0).simulate("click")}function p(e,t){n(e).at(t).simulate("click")}function u(e,t){n(e).at(t).simulate("mouseEnter")}it("no data",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_index2.default,null));x(e),expect(a(e).length).toBe(1),expect(n(e).length).toBe(0),expect(c(e).length).toBe(1)}),it("data: null",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_index2.default,{data:null}));x(e),expect(a(e).length).toBe(1),expect(n(e).length).toBe(0),expect(c(e).length).toBe(1)}),it("非受限, action: click",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_index2.default,{action:"click",data:data}));x(e),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),p(e,0),t(e,8,[0]),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),expect(l(e)).toEqual(["一级菜单1"]),p(e,1),t(e,8,[1]),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),expect(l(e)).toEqual(["一级菜单2"]),p(e,3),expect(a(e).length).toBe(2),expect(n(e).length).toBe(9),t(e,8,[3]),expect(l(e)).toEqual(["一级菜单4"]),p(e,8),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8]),expect(l(e)).toEqual(["一级菜单4|次级菜单4-1"]),p(e,9),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8,9]),expect(l(e)).toEqual(["一级菜单4|次级菜单4-1|三级菜单4-1-1"])}),it("非受限, action: hover",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_index2.default,{data:data,action:"hover"}));x(e),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),u(e,0),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),u(e,1),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),u(e,3),expect(a(e).length).toBe(2),expect(n(e).length).toBe(9),t(e,8,[]),expect(l(e)).toEqual([]),u(e,8),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[]),expect(l(e)).toEqual([]),u(e,9),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[]),expect(l(e)).toEqual([]),p(e,9),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8,9]),expect(l(e)).toEqual(["一级菜单4|次级菜单4-1|三级菜单4-1-1"])}),it("非受限,hover after click, separator:  / ",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_index2.default,{data:data,separator:"/",action:"hover"}));x(e),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),u(e,0),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),p(e,0),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[0]),expect(l(e)).toEqual(["一级菜单1"]),u(e,1),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[0]),expect(l(e)).toEqual(["一级菜单1"]),p(e,1),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[1]),expect(l(e)).toEqual(["一级菜单2"]),u(e,3),expect(a(e).length).toBe(2),expect(n(e).length).toBe(9),t(e,8,[1]),expect(l(e)).toEqual(["一级菜单2"]),p(e,3),expect(a(e).length).toBe(2),expect(n(e).length).toBe(9),t(e,8,[3]),expect(l(e)).toEqual(["一级菜单4"]),u(e,8),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3]),expect(l(e)).toEqual(["一级菜单4"]),p(e,8),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8]),expect(l(e)).toEqual(["一级菜单4/次级菜单4-1"]),u(e,9),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8]),expect(l(e)).toEqual(["一级菜单4/次级菜单4-1"]),p(e,9),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8,9]),expect(l(e)).toEqual(["一级菜单4/次级菜单4-1/三级菜单4-1-1"])}),it("非受限, action: hover, click disabled item",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_index2.default,{action:"click",data:data}));x(e),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),u(e,0),t(e,8,[]),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),expect(l(e)).toEqual([]),p(e,0),t(e,8,[0]),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),expect(l(e)).toEqual(["一级菜单1"]),u(e,5),t(e,8,[0]),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),expect(l(e)).toEqual(["一级菜单1"]),p(e,5),t(e,8,[0]),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),expect(l(e)).toEqual(["一级菜单1"])}),it("非受限,只显示最后一项 ,hover after click, showAllLevels: false",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_index2.default,{data:data,showAllLevels:!1,separator:"/",action:"hover"}));x(e),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),u(e,0),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[]),expect(l(e)).toEqual([]),p(e,0),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[0]),expect(l(e)).toEqual(["一级菜单1"]),u(e,1),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[0]),expect(l(e)).toEqual(["一级菜单1"]),p(e,1),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[1]),expect(l(e)).toEqual(["一级菜单2"]),u(e,3),expect(a(e).length).toBe(2),expect(n(e).length).toBe(9),t(e,8,[1]),expect(l(e)).toEqual(["一级菜单2"]),p(e,3),expect(a(e).length).toBe(2),expect(n(e).length).toBe(9),t(e,8,[3]),expect(l(e)).toEqual(["一级菜单2"]),u(e,8),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3]),expect(l(e)).toEqual(["一级菜单2"]),p(e,8),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8]),expect(l(e)).toEqual(["一级菜单2"]),u(e,9),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8]),expect(l(e)).toEqual(["一级菜单2"]),p(e,9),expect(a(e).length).toBe(3),expect(n(e).length).toBe(10),t(e,8,[3,8,9]),expect(l(e)).toEqual(["三级菜单4-1-1"]),u(e,1),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[3]),expect(l(e)).toEqual(["三级菜单4-1-1"]),p(e,1),expect(a(e).length).toBe(1),expect(n(e).length).toBe(8),t(e,8,[1]),expect(l(e)).toEqual(["一级菜单2"])})});