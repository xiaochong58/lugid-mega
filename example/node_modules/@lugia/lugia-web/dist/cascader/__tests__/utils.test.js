"use strict";require("jest-styled-components");var _enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_utils=require("../utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default});var data=[{text:"一级菜单1",value:"a1",disabled:!1},{text:"一级菜单2",value:"a2",disabled:!1},{text:"一级菜单3",value:"a3",disabled:!1},{text:"一级菜单4",value:"a4",disabled:!1,children:[{text:"次级菜单4-1",value:"a4-1",children:[{text:"三级菜单4-1-1",value:"a4-1-1"}]}]},{text:"一级菜单5",value:"a5",disabled:!0},{text:"一级菜单6",value:"a6",disabled:!1,children:[{text:"次级菜单6-1",value:"a6-1"},{text:"次级菜单6-2",value:"a6-2",children:[{text:"三级菜单6-2-1",value:"a6-2-1",children:[{text:"sub1",value:"suba1",children:[{text:"sub2",value:"suba2"}]}]},{text:"三级菜单6-2-2",value:"a6-2-2"},{text:"三级菜单6-2-3",value:"a6-2-3"}]}]}],valueField="value",displayField="text",treeData=[{value:"a1",text:"一级菜单1",pid:void 0,path:void 0,isLeaf:!0},{value:"a2",text:"一级菜单2",pid:void 0,path:void 0,isLeaf:!0},{value:"a3",text:"一级菜单3",pid:void 0,path:void 0,isLeaf:!0},{value:"a4",text:"一级菜单4",pid:void 0,path:void 0},{value:"a4-1",text:"次级菜单4-1",pid:"a4",path:"a4"},{value:"a4-1-1",text:"三级菜单4-1-1",pid:"a4-1",path:"a4/a4-1",isLeaf:!0},{value:"a5",text:"一级菜单5",pid:void 0,path:void 0,isLeaf:!0},{value:"a6",text:"一级菜单6",pid:void 0,path:void 0},{value:"a6-1",text:"次级菜单6-1",pid:"a6",path:"a6",isLeaf:!0},{value:"a6-2",text:"次级菜单6-2",pid:"a6",path:"a6"},{value:"a6-2-1",text:"三级菜单6-2-1",pid:"a6-2",path:"a6/a6-2"},{value:"suba1",text:"sub1",pid:"a6-2-1",path:"a6/a6-2/a6-2-1"},{value:"suba2",text:"sub2",pid:"suba1",path:"a6/a6-2/a6-2-1/suba1",isLeaf:!0},{value:"a6-2-2",text:"三级菜单6-2-2",pid:"a6-2",path:"a6/a6-2",isLeaf:!0},{value:"a6-2-3",text:"三级菜单6-2-3",pid:"a6-2",path:"a6/a6-2",isLeaf:!0}];describe("Cascader",function(){it("getInitStart ",function(){expect((0,_utils.isHasValue)({})).toBeFalsy(),expect((0,_utils.isHasValue)({value:null})).toBeTruthy(),expect((0,_utils.isHasValue)({value:0})).toBeTruthy(),expect((0,_utils.isHasValue)({value:""})).toBeTruthy()}),it("isHasDefaultValue ",function(){expect((0,_utils.isHasDefaultValue)({})).toBeFalsy(),expect((0,_utils.isHasDefaultValue)({defaultValue:null})).toBeTruthy(),expect((0,_utils.isHasDefaultValue)({defaultValue:0})).toBeTruthy(),expect((0,_utils.isHasDefaultValue)({defaultValue:""})).toBeTruthy()}),it("getValue ",function(){expect((0,_utils.getValue)({},null)).toEqual([]),expect((0,_utils.getValue)({value:[]},null)).toEqual([]),expect((0,_utils.getValue)({value:[""]},null)).toEqual([""]),expect((0,_utils.getValue)({value:null},null)).toEqual([]),expect((0,_utils.getValue)({value:void 0},null)).toEqual([]),expect((0,_utils.getValue)({value:0},null)).toEqual([]),expect((0,_utils.getValue)({value:[123,345]},null)).toEqual([123,345]),expect((0,_utils.getValue)({defaultValue:["深院月斜人静"]},null)).toEqual(["深院月斜人静"]),expect((0,_utils.getValue)({defaultValue:[]},null)).toEqual([]),expect((0,_utils.getValue)({defaultValue:[""]},null)).toEqual([""]),expect((0,_utils.getValue)({defaultValue:null},null)).toEqual([]),expect((0,_utils.getValue)({defaultValue:void 0},null)).toEqual([]),expect((0,_utils.getValue)({defaultValue:0},null)).toEqual([]),expect((0,_utils.getValue)({defaultValue:[123,345]},null)).toEqual([123,345]),expect((0,_utils.getValue)({value:[],defaultValue:["深院月斜人静"]},null)).toEqual([]),expect((0,_utils.getValue)({value:[""],defaultValue:["深院月斜人静"]},null)).toEqual([""]),expect((0,_utils.getValue)({value:null,defaultValue:["深院月斜人静"]},null)).toEqual([]),expect((0,_utils.getValue)({value:void 0,defaultValue:["深院月斜人静"]},null)).toEqual([]),expect((0,_utils.getValue)({value:0,defaultValue:["深院月斜人静"]},null)).toEqual([]),expect((0,_utils.getValue)({value:[123,345],defaultValue:["深院月斜人静"]},null)).toEqual([123,345]),expect((0,_utils.getValue)({},{value:[""]})).toEqual([""]),expect((0,_utils.getValue)({value:[]},{value:["苦莫苦于多愿"]})).toEqual([]),expect((0,_utils.getValue)({value:[""]},{value:["苦莫苦于多愿"]})).toEqual([""]),expect((0,_utils.getValue)({value:null},{value:["苦莫苦于多愿"]})).toEqual([]),expect((0,_utils.getValue)({value:void 0},{value:["苦莫苦于多愿"]})).toEqual([]),expect((0,_utils.getValue)({value:0},{value:["苦莫苦于多愿"]})).toEqual([]),expect((0,_utils.getValue)({value:[123,345]},{value:["苦莫苦于多愿"]})).toEqual([123,345]),expect((0,_utils.getValue)({defaultValue:["深院月斜人静"]},{value:void 0})).toEqual(void 0),expect((0,_utils.getValue)({defaultValue:["深院月斜人静"]},{value:[]})).toEqual([]),expect((0,_utils.getValue)({defaultValue:["深院月斜人静"]},{value:[""]})).toEqual([""]),expect((0,_utils.getValue)({defaultValue:["深院月斜人静"]},{value:null})).toEqual(null),expect((0,_utils.getValue)({defaultValue:["深院月斜人静"]},{value:["123"]})).toEqual(["123"]),expect((0,_utils.getValue)({defaultValue:["深院月斜人静"]},{value:0})).toEqual(0),expect((0,_utils.getValue)({defaultValue:["深院月斜人静"]},{value:["苦莫苦于多愿"]})).toEqual(["苦莫苦于多愿"]),expect((0,_utils.getValue)({value:void 0,defaultValue:["深院月斜人静"]},{value:["苦莫苦于多愿"]})).toEqual([]),expect((0,_utils.getValue)({value:[],defaultValue:["深院月斜人静"]},{value:["苦莫苦于多愿"]})).toEqual([]),expect((0,_utils.getValue)({value:[""],defaultValue:["深院月斜人静"]},{value:["苦莫苦于多愿"]})).toEqual([""]),expect((0,_utils.getValue)({value:null,defaultValue:["深院月斜人静"]},{value:["苦莫苦于多愿"]})).toEqual([]),expect((0,_utils.getValue)({value:["123"],defaultValue:["深院月斜人静"]},{value:["苦莫苦于多愿"]})).toEqual(["123"]),expect((0,_utils.getValue)({value:0,defaultValue:["深院月斜人静"]},{value:["苦莫苦于多愿"]})).toEqual([]),expect((0,_utils.getValue)({value:[1,2,3],defaultValue:["深院月斜人静"]},{value:["苦莫苦于多愿"]})).toEqual([1,2,3])}),it("getLastIndex ",function(){expect((0,_utils.getLastIndex)([1,2,3])).toBe(2),expect((0,_utils.getLastIndex)([1])).toBe(0)}),it("getInitExpandedPath ",function(){expect((0,_utils.getInitExpandedPath)({value:1})).toEqual([1]),expect((0,_utils.getInitExpandedPath)({value:[]})).toEqual([]),expect((0,_utils.getInitExpandedPath)({value:["深院月斜人静"]})).toEqual(["深院月斜人静"]),expect((0,_utils.getInitExpandedPath)({value:"1"})).toEqual(["1"])}),it("letValueSplitToArray ",function(){expect((0,_utils.letValueSplitToArray)("1/2","/")).toEqual(["1","2"]),expect((0,_utils.letValueSplitToArray)(["1/2"],"/")).toEqual(["1","2"])}),it("getLastLevelValue ",function(){expect((0,_utils.getLastLevelValue)([])).toEqual(void 0),expect((0,_utils.getLastLevelValue)([""])).toEqual(""),expect((0,_utils.getLastLevelValue)(["1","2"])).toEqual("2"),expect((0,_utils.getLastLevelValue)(["1","2","3"])).toEqual("3")}),it("getFilterValueData ",function(){expect((0,_utils.getFilterValueData)(data,[],"/")).toEqual([]),expect((0,_utils.getFilterValueData)(data,["a6/a6-2/a6-2-1/suba1/suba2"],"/")).toEqual(["a6","a6-2","a6-2-1","suba1","suba2"]),expect((0,_utils.getFilterValueData)(data,["a6/a6-2/a6-2-1/s/suba2"],"/")).toEqual(["a6","a6-2","a6-2-1"]),expect((0,_utils.getFilterValueData)(data,["0/a6-2/a6-2-1/s/suba2"],"/")).toEqual([]),expect((0,_utils.getFilterValueData)(data,["a6/c/a6-2-1/s/suba2"],"/")).toEqual(["a6"])}),it("isLeafPath ",function(){expect((0,_utils.isLeafPath)([],data,valueField)).toBe(!1),expect((0,_utils.isLeafPath)(treeData,["a6","a6-2","a6-2-1","suba1","suba2"],valueField)).toBe(!0),expect((0,_utils.isLeafPath)(treeData,["a1"],valueField)).toBe(!0),expect((0,_utils.isLeafPath)(treeData,["a6"],valueField)).toBe(!1),expect((0,_utils.isLeafPath)(treeData,["a6","a6-2"],valueField)).toBe(!1)}),it("mapTreeDataToGetDisplayValue ",function(){expect((0,_utils.mapTreeDataToGetDisplayValue)(treeData,[],valueField,displayField)).toEqual([]),expect((0,_utils.mapTreeDataToGetDisplayValue)(treeData,["a6","a6-2","a6-2-1","suba1","suba2"],valueField,displayField)).toEqual(["一级菜单6","次级菜单6-2","三级菜单6-2-1","sub1","sub2"]),expect((0,_utils.mapTreeDataToGetDisplayValue)(treeData,["a6","a6-2"],valueField,displayField)).toEqual(["一级菜单6","次级菜单6-2"]),expect((0,_utils.mapTreeDataToGetDisplayValue)(treeData,["a6","a6-2","a6-2-1","suba1"],valueField,displayField)).toEqual(["一级菜单6","次级菜单6-2","三级菜单6-2-1","sub1"])}),it("getInputValue ",function(){expect((0,_utils.getInputValue)({showAllLevels:!0,separator:"/",data:data,value:["a6/a6-2/a6-2-1/suba1/suba2"],valueField:valueField,displayField:displayField},{treeData:treeData})).toEqual(["一级菜单6/次级菜单6-2/三级菜单6-2-1/sub1/sub2"]),expect((0,_utils.getInputValue)({showAllLevels:!0,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["苦乐莫多愿/a6-2/a6-2-1/suba1/suba2"]},{treeData:treeData})).toEqual([]),expect((0,_utils.getInputValue)({showAllLevels:!0,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6/苦乐莫多愿/a6-2-1/suba1/suba2"]},{treeData:treeData})).toEqual(["一级菜单6"]),expect((0,_utils.getInputValue)({showAllLevels:!0,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6/a6-2/苦乐莫多愿/suba1/suba2"]},{treeData:treeData})).toEqual(["一级菜单6/次级菜单6-2"]),expect((0,_utils.getInputValue)({showAllLevels:!0,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6/a6-2/a6-2-1/苦乐莫多愿/suba2"]},{treeData:treeData})).toEqual(["一级菜单6/次级菜单6-2/三级菜单6-2-1"]),expect((0,_utils.getInputValue)({showAllLevels:!0,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6/a6-2/a6-2-1/suba1/苦乐莫多愿"]},{treeData:treeData})).toEqual(["一级菜单6/次级菜单6-2/三级菜单6-2-1/sub1"]),expect((0,_utils.getInputValue)({showAllLevels:!1,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6/a6-2/a6-2-1/suba1/suba2"]},{treeData:treeData})).toEqual(["sub2"]),expect((0,_utils.getInputValue)({showAllLevels:!1,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["苦乐莫多愿/a6-2/a6-2-1/suba1/suba2"]},{treeData:treeData})).toEqual(void 0),expect((0,_utils.getInputValue)({showAllLevels:!1,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["苦乐莫多愿/a6-2/a6-2-1/suba1/suba2"]},{treeData:treeData,inputValue:["笙歌散后酒初醒"]})).toEqual(["笙歌散后酒初醒"]),expect((0,_utils.getInputValue)({showAllLevels:!1,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6/a6-2/a6-2-1/suba1/suba2"]},{treeData:treeData,inputValue:["笙歌散后酒初醒"]})).toEqual(["sub2"]),expect((0,_utils.getInputValue)({showAllLevels:!1,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6/a6-2/a6-2-1/suba1"]},{treeData:treeData,inputValue:["笙歌散后酒初醒"]})).toEqual(["笙歌散后酒初醒"]),expect((0,_utils.getInputValue)({showAllLevels:!1,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6/苦莫苦于多愿/a6-2-1/suba1"]},{treeData:treeData,inputValue:["笙歌散后酒初醒"]})).toEqual(["笙歌散后酒初醒"]),expect((0,_utils.getInputValue)({showAllLevels:!1,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a6"]},{treeData:treeData,inputValue:["笙歌散后酒初醒"]})).toEqual(["笙歌散后酒初醒"]),expect((0,_utils.getInputValue)({showAllLevels:!1,separator:"/",data:data,valueField:valueField,displayField:displayField,value:["a1"]},{treeData:treeData,inputValue:["笙歌散后酒初醒"]})).toEqual(["一级菜单1"])})});