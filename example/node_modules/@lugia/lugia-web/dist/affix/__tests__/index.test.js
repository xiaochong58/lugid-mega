"use strict";var _react=require("react"),_react2=_interopRequireDefault(_react),_chai=require("chai"),_chai2=_interopRequireDefault(_chai);require("jest-styled-components");var _enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_demo=require("../demo"),_demo2=_interopRequireDefault(_demo),_reactTestRenderer=require("react-test-renderer"),_reactTestRenderer2=_interopRequireDefault(_reactTestRenderer),_affix=require("../affix"),_affix2=_interopRequireDefault(_affix);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var exp=_chai2.default.expect;_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default}),describe("Affix",function(){it("css",function(){var e=_react2.default.createElement(_demo2.default,null);expect(_reactTestRenderer2.default.create(e).toJSON()).toMatchSnapshot()});function o(e){return e.instance().state}it("Affix props: offsetTop setFixedForWin ",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_affix2.default,{offsetTop:50})),t=e.instance();expect(o(e).fixed).toBe(!1),t.setFixedForWin({offsetTop:50,offsetBottom:0,winHeight:900,scrollTop:100,affixTop:150,defaultTop:100}),expect(o(e).fixed).toBe(!0),t.setFixedForWin({offsetTop:50,offsetBottom:0,winHeight:900,scrollTop:100,affixTop:150,defaultTop:200}),expect(o(e).fixed).toBe(!1)}),it("Affix props: offsetBottom setFixedForWin ",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_affix2.default,{offsetBottom:50})),t=e.instance();expect(o(e).fixed).toBe(!1),t.affix.getBoundingClientRect=function(){return{top:100,bottom:850}},t.setFixedForWin({offsetTop:50,offsetBottom:0,winHeight:900,scrollTop:100,affixTop:150,defaultTop:200}),expect(o(e).fixed).toBe(!1)}),it("Affix props: targt offsetTop setFixedForTarget ",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_affix2.default,{target:function(){},offsetTop:50})),t=e.instance();expect(o(e).fixed).toBe(!1),t.defaultOffsetTop=10,t.targetDefaultOffsetTop=10,t.setFixedForTarget({affixTop:250,targetTop:100,targetScroll:100,offsetTop:50,winHeight:900,offsetBottom:0,targetRect:{top:200,bottom:300},targetHeight:200}),expect(o(e).fixed).toBe(!1),t.defaultOffsetTop=250,t.targetDefaultOffsetTop=100,t.setFixedForTarget({affixTop:250,targetTop:150,targetScroll:100,offsetTop:50,winHeight:900,offsetBottom:0,targetRect:{top:200,bottom:300},targetHeight:200}),expect(o(e).fixed).toBe(!0)}),it("Affix props: targt offsetBottom setFixedForTarget ",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_affix2.default,{target:function(){},offsetBottom:50})),t=e.instance();expect(o(e).fixed).toBe(!1),t.defaultOffsetTop=500,t.targetDefaultOffsetTop=100,t.setFixedForTarget({affixTop:500,targetTop:150,targetScroll:100,offsetTop:0,winHeight:900,offsetBottom:50,targetRect:{top:200,bottom:300},targetHeight:200}),expect(o(e).fixed).toBe(!1),t.defaultOffsetTop=500,t.targetDefaultOffsetTop=100,t.setFixedForTarget({affixTop:250,targetTop:150,targetScroll:500,offsetTop:0,winHeight:900,offsetBottom:50,targetRect:{top:100,bottom:300},targetHeight:200}),expect(o(e).fixed).toBe(!1)})});