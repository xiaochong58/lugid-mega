"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onMouseMoveEvent=onMouseMoveEvent,exports.onMouseUp=onMouseUp,exports.dragXY=dragXY,exports.getNodeSize=getNodeSize;var _utils=require("./utils");function onMouseMoveEvent(e,t,o,i,r,n,s,u,v){var a=i.endsWith("Piece"),l=t.topIsDown,h=t.rightIsDown,g=t.bottomIsDown,d=t.leftIsDown;if(l||h||g||d){var f=e.clientX,c=e.clientY,w=o.sourceX,m=o.sourceY,M=f,p=c,x=w,X=m;(l||g)&&(M=a?f:0,x=a?w:0),(h||d)&&(p=a?c:0,X=a?m:0);var Y=(0,_utils.getOverflowSize)(M,p,x,X,t),z=Y.overflowWidth,S=Y.overflowHeight,_=(0,_utils.getNewFormsSize)(z,S,s,u,i,v),F=(0,_utils.fourLineChangeXY)(t,i,r,n,f,c),O=F.moveX,W=F.moveY,b=(0,_utils.getPosition)(O,W,r,n);return Object.assign({},b,{direction:i},_)}return{x:r,y:n,width:s,height:u,direction:i}}function onMouseUp(e){var t=e.overflowWidth,o=e.overflowHeight,i=e.width,r=e.height,n=e.moveX,s=e.moveY,u=e.x,v=e.y,a=e.direction,l=(0,_utils.getNewFormsSize)(t,o,i,r,a),h=(0,_utils.getPosition)(n,s,u,v),g=resetOverflowSize(),d=resetMoveXY();return Object.assign({},l,h,g,d)}function dragXY(e,t,o,i){var r=e-o,n=t-i,s=resetOverflowSize(),u=resetMoveXY();return Object.assign({x:r,y:n},s,u)}function resetMoveXY(){return{moveX:0,moveY:0}}function resetOverflowSize(){return{overflowWidth:0,overflowHeight:0}}function getNodeSize(e){var t=e.node,o=e.minWidth,i=e.minHeight,r=e.maxWidth,n=e.maxHeight,s=o,u=i;if(t){var v=t.current;if(v){var a=v.getBoundingClientRect(),l=a.height,h=a.width;s=parseFloat(parseFloat(h).toFixed(2)),u=parseFloat(parseFloat(l).toFixed(2))}}return{w:s=Math.min(Math.max(s,o),r),h:u=Math.min(Math.max(u,i),n)}}