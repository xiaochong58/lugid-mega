"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStatus=exports.getText=void 0;var _createClass=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),_react=require("react"),React=_interopRequireWildcard(_react),_objectUtils=require("@lugia/object-utils"),_progressLine=require("../css/progress-line"),_icon=require("../icon"),_icon2=_interopRequireDefault(_icon),_stateColor=require("../css/stateColor"),_stateColor2=_interopRequireDefault(_stateColor);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _colorsFunc=(0,_stateColor2.default)(),successColor=_colorsFunc.successColor,dangerColor=_colorsFunc.dangerColor,mediumGreyColor=_colorsFunc.mediumGreyColor,getText=exports.getText=function(e,t){var r=t.percent,o=void 0===r?0:r,s=t.format,n=t.hasFormat,i=void 0!==n&&n,a=t.getIconTheme,c=t.iconClass;if(i&&"function"==typeof s)return s(o);var l=t.status,u=void 0===l?"default":l,p=t.size,f=void 0===p?"default":p,d=t.type,_=void 0===d?"line":d,g={normal:{cursor:"default",fontSize:"circle"===_||"dashboard"===_?"small"===f?26:40:"small"===f?12:14,color:"error"===u?dangerColor:"success"===u?successColor:mediumGreyColor,getCSS:function(){return"\n          vertical-align: middle !important;\n        "}}};if("error"===u){var h=a("error"),m=h.viewClass,v=h.theme,y=(0,_objectUtils.deepMerge)(_defineProperty({},m,g),v),C=e?"lugia-icon-reminder_close":"lugia-icon-reminder_close_circle";return React.createElement(_icon2.default,{viewClass:m,theme:y,iconClass:c||C,singleTheme:!0})}if("success"===u||100<=o){var b=a("success"),P=b.viewClass,T=b.theme,w=(0,_objectUtils.deepMerge)(_defineProperty({},P,g),T),x=e?"lugia-icon-reminder_check":"lugia-icon-reminder_check_circle";return React.createElement(_icon2.default,{viewClass:P,theme:w,singleTheme:!0,iconClass:c||x})}return o+"%"},getStatus=exports.getStatus=function(e){var t=e.status,r=void 0===t?"default":t,o=e.percent,s=void 0===o?0:o;return 100===(0,_progressLine.handlePercent)(s)?"error"===r?r:"success":r},_class=function(){function n(){var e,t,d;_classCallCheck(this,n);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=d=_possibleConstructorReturn(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o)))).getPercentText=function(e){var t=d.props,r=t.percent,o=void 0===r?0:r,s=t.format,n=t.status,i=void 0===n?"default":n,a=t.size,c=void 0===a?"default":a,l=t.type,u=void 0===l?"line":l,p=t.getIconTheme,f=t.iconClass;return getText(e,{hasFormat:d.hasFormat(),percent:o,format:s,status:i,size:c,type:u,getIconTheme:p,iconClass:f})},_possibleConstructorReturn(d,t)}return _inherits(n,React.Component),_createClass(n,[{key:"render",value:function(){var e=this.props,t=e.type,r=void 0===t?"line":t,o=e.size,s=void 0===o?"default":o,n=e.status,i=void 0===n?"default":n,a=e.showType,c=void 0===a?"default":a,l=e.percent,u=void 0===l?0:l,p=e.showInfo,f=void 0===p||p,d=e.active,_=e.getPartOfThemeProps,g=_("Container"),h=_("ProgressOutLine"),m=_("ProgressInnerLine_Default"),v=_("ProgressInnerLine_Success"),y=_("ProgressInnerLine_Error"),C=_("ProgressLineInsideText"),b=_("ProgressLineInfoText"),P=getStatus({status:i,percent:u}),T="success"===P?v:"error"===P?y:m;return T.propsConfig={status:P,percent:u,size:s,showType:c,active:d},b.propsConfig={status:P,size:s},React.createElement(_progressLine.Wrap,{themeProps:g,size:s,type:r},React.createElement(_progressLine.ProgressLine,{themeProps:h,showInfo:f,showType:c,size:s},React.createElement(_progressLine.ProgressBackground,{themeProps:T,showType:c,percent:u,status:i,size:s},"default"===c?null:React.createElement(_progressLine.InsideText,{showType:c,size:s,themeProps:C},this.getPercentText(!0)))),f&&"default"===c?React.createElement(_progressLine.ProgressText,{themeProps:b,size:s,percent:u,type:r,status:i},this.getPercentText(!1)):null)}},{key:"hasFormat",value:function(){return"format"in this.props}}]),n}();exports.default=_class;