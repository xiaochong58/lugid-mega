"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResponsiveContext=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_react=require("react"),React=_interopRequireWildcard(_react);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ResponsiveContext=exports.ResponsiveContext=React.createContext({}),_class=function(){function p(e){_classCallCheck(this,p);var t=_possibleConstructorReturn(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));_initialiseProps.call(t);var n=window.innerWidth,r=void 0===n?0:n,o=e.mode2Config,i=void 0===o?{}:o,a=e.sideMenuWidth,s=void 0===a?0:a,u=t.handleWindowConfig(i),c=u.rangesMap,l=void 0===c?{}:c,f=u.rangeMinValues;t.widthRangeMap=l,t.rangeMinValues=f;var d=r-s;return t.state={windowWidthRange:t.getRange(d,t.widthRangeMap,t.rangeMinValues)},window&&(window.onresize=t.handleWindowDrag),t}return _inherits(p,React.Component),_createClass(p,[{key:"render",value:function(){var e=this.props.children,t=this.state.windowWidthRange;return React.createElement(React.Fragment,null,React.createElement(ResponsiveContext.Provider,{value:{getLayout:this.getLayout,windowWidthRange:t}},e))}}]),p}();_class.defaultProps={mode2Config:{},mode2LayoutData:{}};var _initialiseProps=function(){var u=this;this.handleWindowConfig=function(e){if(e&&"object"===(void 0===e?"undefined":_typeof(e))){var t=Object.values(e),i=Object.keys(e);if(0<t.length){var a={},s=[];return t.forEach(function(e,t){var n=e.widthRange,r=(void 0===n?[]:n)[0],o=i[t];a[r]={rangeDesc:o},s.push(r)}),{rangesMap:a,rangeMinValues:u.increasingSortArray(s)}}return{}}return{}},this.increasingSortArray=function(e){return e.sort(function(e,t){return e-t})},this.handleWindowDrag=function(){var e=window.innerWidth,t=u.props.sideMenuWidth,n=e-(void 0===t?0:t),r=u.getRange(n,u.widthRangeMap,u.rangeMinValues);r!==u.state.windowWidthRange&&u.setState({windowWidthRange:r})},this.getRange=function(t,e,n){if(!(t&&n&&n.length&&e))return"default";var r=n[0];return n.forEach(function(e){e<=t&&(r=e)}),e[r].rangeDesc},this.getLayout=function(e){var t=u.props.mode2LayoutData,n=void 0===t?{}:t,r=u.state.windowWidthRange;if("default"===r)return{};var o=n[r];if(!o)return{};var i=o[e];return i||{}}};exports.default=_class;