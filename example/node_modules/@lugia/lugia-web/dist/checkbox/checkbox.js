"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function o(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,t){return r&&o(e.prototype,r),t&&o(e,t),e}}(),_react=require("react"),React=_interopRequireWildcard(_react),_themeUtils=require("@lugia/theme-utils"),_objectUtils=require("@lugia/object-utils"),_themeProvider=require("../theme-provider"),_themeProvider2=_interopRequireDefault(_themeProvider),_index=require("../consts/index"),_index2=_interopRequireDefault(_index),_checkbox=require("../css/checkbox"),_themeHoc=require("@lugia/theme-hoc"),_CSSProvider=require("../theme/CSSProvider");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var disabledColor="$lugia-dict.@lugia/lugia-web.disabledColor",defaultEdgeCancelProps={themeConfig:{normal:{border:(0,_themeUtils.getBorder)({color:disabledColor,width:1,style:"solid"}),borderRadius:(0,_CSSProvider.getBorderRadius)(2),background:{color:disabledColor}}}},themeColor="$lugia-dict.@lugia/lugia-web.themeColor",disableColor="$lugia-dict.@lugia/lugia-web.disableColor",defaultEdgeTheme={themeConfig:{normal:{border:(0,_themeUtils.getBorder)({color:themeColor,width:1,style:"solid"}),borderRadius:(0,_CSSProvider.getBorderRadius)(2),background:{color:themeColor}},hover:{border:(0,_themeUtils.getBorder)({color:themeColor,width:1,style:"solid"}),borderRadius:(0,_CSSProvider.getBorderRadius)(2),background:{color:themeColor}},disabled:{border:(0,_themeUtils.getBorder)({color:disableColor,width:1,style:"solid"}),borderRadius:(0,_CSSProvider.getBorderRadius)(2),background:{color:disableColor}}}},defaultInnerTheme={normal:{color:"#fff"},hover:{color:"#fff"},disabled:{color:"$lugia-dict.@lugia/lugia-web.lightGreyColor"}};exports.default=(0,_themeProvider2.default)((_temp2=_class=function(){function a(){var e,r,l;_classCallCheck(this,a);for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];return(r=l=_possibleConstructorReturn(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o)))).handleClick=function(c){return function(e){var r=l.props,t=r.onChange,o=r.disabled,n=r.onChangeForGroup,a=l.state.checked;o||(l.setState({checked:!a,hasChecked:a}),t&&t(e,!a),n&&n(e,c),e.stopPropagation(),e.preventDefault())}},l.handleBlur=function(){l.setState({hasChecked:!1})},l.handleMouseEnter=function(){l.setState({hover:!0})},l.handleMouseLeave=function(){l.setState({hover:!1})},l.handleCancel=function(e){var r=l.props,t=r.value,o=r.handleCancelItemClick;o&&o(t)},_possibleConstructorReturn(l,r)}return _inherits(a,React.Component),_createClass(a,[{key:"render",value:function(){var e=this.props,r=e.value,t=void 0===r?this.props.children:r,o=e.disabled,n=e.cancel,a=e.indeterminate,c=void 0!==a&&a,l=e.styles,i=void 0===l?"default":l,d=e.children,s=e.themeProps,h=e.getPartOfThemeProps,u=e.getPartOfThemeConfig,C=e.last,p=void 0===C||C,b=this.state,f=b.checked,_=b.hasChecked,m=b.hasCancel,g={};n&&(g.enter=this.handleMouseEnter,g.leave=this.handleMouseLeave);var k=h("Container"),v=h("CheckboxEdgeChecked"),x=h("CheckboxEdgeUnChecked"),y=h("CheckboxEdgeCancel"),P=h("CheckboxEdgeIndeterminate"),R=h("CheckboxText"),E=n?(0,_objectUtils.deepMerge)(defaultEdgeCancelProps,y):f?(0,_objectUtils.deepMerge)(defaultEdgeTheme,v):c?(0,_objectUtils.deepMerge)(defaultEdgeTheme,P):x,S=u("CheckboxInnerChecked"),I=u("CheckboxInnerCancel"),j=u("CheckboxInnerIndeterminate");return E.propsConfig.checkboxInnerCheckedTheme=defaultInnerTheme,c&&(E.propsConfig.checkboxInnerCheckedTheme=(0,_objectUtils.deepMerge)(defaultInnerTheme,j),E.propsConfig.isIndeterminate=c),f&&(E.propsConfig.checkboxInnerCheckedTheme=(0,_objectUtils.deepMerge)(defaultInnerTheme,S),E.propsConfig.isChecked=f),n&&(E.propsConfig.checkboxInnerCheckedTheme=(0,_objectUtils.deepMerge)(defaultInnerTheme,I),E.propsConfig.isCancel=n),E.propsConfig.isDisabled=o,E.propsConfig.hasChecked=_,React.createElement(_checkbox.CheckBoxWrap,Object.assign({themeProps:k,onClick:this.handleClick(t),disabled:o,cancel:n,hasCancel:m,styles:i,last:p},(0,_themeHoc.addMouseEvent)(this,g),{title:d}),React.createElement(_checkbox.CheckBoxContent,{themeProps:s,onClick:n?this.handleCancel:null},React.createElement(_checkbox.CheckBoxInput,{disabled:o,type:"checkbox",onBlur:this.handleBlur}),this.state.hover?React.createElement(_checkbox.HoverSpan,null,React.createElement(_checkbox.IconWrap,{iconClass:"lugia-icon-reminder_close_circle"})):React.createElement(_checkbox.CheckBoxInnerSpan,{themeProps:E,cancel:n,disabled:o,checked:f,hasChecked:_,indeterminate:c})),React.createElement(_checkbox.CheckBoxLabelSpan,{hasChildren:!!d,themeProps:R},d))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var t="checked"in e?e.checked:r?r.checked:e.defaultChecked;return r?{checked:t}:{checked:t,hasChecked:!1,hover:!1,hasCancel:!1}}}]),a}(),_class.displayName=_index2.default.Checkbox,_temp2),_index2.default.Checkbox,{hover:!0,active:!0});