"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),_templateObject=_taggedTemplateLiteral(["\n                        ",";\n                        ",";\n                      "],["\n                        ",";\n                        ",";\n                      "]),_react=require("react"),React=_interopRequireWildcard(_react),_objectUtils=require("@lugia/object-utils"),_styledComponents=require("styled-components"),_themeProvider=require("../theme-provider"),_themeProvider2=_interopRequireDefault(_themeProvider),_themeHoc=require("@lugia/theme-hoc"),_index=require("../consts/index"),_index2=_interopRequireDefault(_index),_DelayHoc=require("../common/DelayHoc"),_DelayHoc2=_interopRequireDefault(_DelayHoc),_MouseEventAdaptor=require("../common/MouseEventAdaptor"),_MouseEventAdaptor2=_interopRequireDefault(_MouseEventAdaptor),_button=require("../css/button"),_theme2=require("./theme"),_icon=require("../icon"),_icon2=_interopRequireDefault(_icon);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}_button.ButtonOut.displayName="ButtonWrap",exports.default=(0,_themeProvider2.default)((0,_MouseEventAdaptor2.default)((0,_DelayHoc2.default)((_temp=_class=function(){function e(){_classCallCheck(this,e);var M=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return M.onClick=function(e){var t=M.props,n=t.onClick,o=t.disabled,i=t.loading;o||i||(M.setState({clicked:!0}),setTimeout(function(){M.setState({clicked:!1})},500),n&&n(e))},M.getIconTheme=function(e){var t=e.viewClass,n=e.theme,o=e.isSuffix,i=M.props,r=i.type,a=void 0===r?"default":r,l=i.plain,s=i.children,c=i.text,u=i.loading,d=i.size,p=void 0===d?"default":d,f=i.disabled,_=!!s||!!c,h=_theme2.TextSizeTheme[p]||_theme2.TextSizeTheme.default,m=(0,_button.getTextNormalTheme)({type:a,plain:l,loading:u}),b=(0,_button.getTextHoverStyle)({type:a,plain:l}),v=(0,_button.getTextActiveTheme)({type:a,plain:l}),g=(0,_button.getTextDisabledTheme)({type:a,plain:l});return(0,_objectUtils.deepMerge)(_defineProperty({},t,{normal:Object.assign({},h,m,{getCSS:function(){return"\n                      "+(0,_button.getIconStyle)({hasChildren:_,isSuffix:o})+";\n                      "+(0,_button.getIconCursor)({disabled:f})+";\n                    "}}),hover:b,active:v,disabled:g,focus:b}),n)},M.handleChildren=function(){var e=M.props,t=e.type,n=void 0===t?"default":t,o=e.plain,i=e.children,r=e.text,a=e.icon,l=e.circle,s=e.loading,c=e.size,u=void 0===c?"default":c,d=e.disabled,p=e.getPartOfThemeProps,f=e.getPartOfThemeHocProps,_=e.dispatchEvent,h=e.suffixIcon,m=!!i||!!r,b=p("ButtonText"),v=f("ButtonIcon"),g=v.viewClass,y=v.theme;b.propsConfig={type:n,plain:o,loading:s,size:u,circle:l};var C=M.getIconTheme({viewClass:g,theme:y,isSuffix:!1});if(l){var O=a||"lugia-icon-direction_logout";return[React.createElement(_icon2.default,Object.assign({singleTheme:!0,size:u,iconClass:O,viewClass:g,theme:C},_(["hover","active","disabled","focus"],"f2c"))),React.createElement(_button.Text,{themeProps:b},r||i)]}if(s){var T=(0,_button.getTextLoadingTheme)({plain:o,type:n}),x=(0,_objectUtils.deepMerge)(_defineProperty({},g,{normal:Object.assign({},T,{getCSS:function(){return(0,_styledComponents.css)(_templateObject,(0,_button.getIconStyle)({hasChildren:m}),(0,_button.getLoadingIconStyle)({loading:!0}))}})}),y);return[React.createElement(_icon2.default,{singleTheme:!0,loading:!0,iconClass:"lugia-icon-financial_loading_o",viewClass:g,theme:x}),React.createElement(_button.Text,{themeProps:b},r||i)]}var j=[React.createElement(_button.Text,{themeProps:b},r||i)],P=Object.assign({singleTheme:!0,hasChildren:m,disabled:d},_(["hover","active","disabled","focus"],"f2c"));if(a&&j.unshift(React.createElement(_icon2.default,Object.assign({iconClass:a,viewClass:g,theme:C},P))),h){var w=f("ButtonSuffixIcon"),R=w.viewClass,E=w.theme,q=M.getIconTheme({viewClass:R,theme:E,isSuffix:!0});j.push(React.createElement(_icon2.default,Object.assign({iconClass:h,viewClass:R,theme:q},P)))}return j},M.state={clicked:!1},M}return _inherits(e,React.Component),_createClass(e,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.shape,o=e.disabled,i=e.plain,r=e.size,a=void 0===r?"default":r,l=e.circle,s=e.getTheme,c=e.loading,u=e.onMouseOut,d=e.onMouseOver,p=e.onMouseEnter,f=e.onMouseLeave,_=e.onMouseUp,h=e.onMouseDown,m=e.block,b=e.getPartOfThemeProps,v=this.state.clicked,g={enter:p,leave:f,up:_,down:h},y=b("Container");return y.propsConfig={type:t,plain:i,disabled:o,loading:c,size:a,circle:l,shape:n},React.createElement(_button.ButtonOut,Object.assign({clicked:v,type:t,disabled:o,size:a,plain:i,shape:n,circle:l,loading:c,onClick:this.onClick,onMouseOut:u,onMouseOver:d,themes:s(),block:m,themeProps:y},(0,_themeHoc.addMouseEvent)(this,g),(0,_themeHoc.addFocusBlurEvent)(this)),React.createElement(_button.ButtonContent,null,this.handleChildren()))}}]),e}(),_class.displayName="Button",_temp))),_index2.default.Button,{hover:!0,active:!0,focus:!0});