"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),_react=require("react"),React=_interopRequireWildcard(_react),_themeProvider=require("../theme-provider"),_themeProvider2=_interopRequireDefault(_themeProvider),_objectUtils=require("@lugia/object-utils"),_tableCss=require("./tableCss"),_consts=require("../consts"),_consts2=_interopRequireDefault(_consts);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Table=function(){function l(){var e,t,u;_classCallCheck(this,l);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=u=_possibleConstructorReturn(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(o)))).defaultProps={tableSize:"middle",tableStyle:"linear"},u.getColumns=function(e){var t=u.props,r=t.tableSize,n=void 0===r?"middle":r,o=t.tableStyle,s=void 0===o?"linear":o,a=u.props.getPartOfThemeProps("Tr",{props:{tableStyle:s}});return React.createElement(_tableCss.Tr,{themeProps:a},e.map(function(e){var t=e.title,r=e.width,o=e.align,a=e.ellipsis,l=u.props.getPartOfThemeProps("Td",{props:{align:o,ellipsis:a,tableSize:n,tableStyle:s}});return React.createElement(_tableCss.Td,{themeProps:u.getTdThemeWithWidth(l,r)},t)}))},u.getData=function(e){var t=u.props,r=t.columns,o=void 0===r?[]:r,a=t.tableSize,p=void 0===a?"middle":a,l=t.tableStyle,c=void 0===l?"linear":l,n=u.props.getPartOfThemeProps("Tr",{props:{tableStyle:c}});return e.map(function(s,i){return React.createElement(_tableCss.Tr,{themeProps:n},o.map(function(e){var t=e.dataIndex,r=e.render,o=e.align,a=e.ellipsis,l=e.width,n=u.props.getPartOfThemeProps("Td",{props:{align:o,ellipsis:a,tableSize:p,tableStyle:c}});return React.createElement(_tableCss.Td,{themeProps:u.getTdThemeWithWidth(n,l)},r?r(s[t],s,i):s[t])}))})},u.getTdThemeWithWidth=function(e,t){var r={themeConfig:{normal:{width:t}}};return(0,_objectUtils.deepMerge)(e,r)},_possibleConstructorReturn(u,t)}return _inherits(l,React.Component),_createClass(l,[{key:"render",value:function(){var e=this.props,t=e.data,r=void 0===t?[]:t,o=e.columns,a=void 0===o?[]:o,l=e.title,n=e.footer,s=e.showHeader,i=void 0===s||s,p=e.tableSize,c=this.props.getPartOfThemeProps("Container"),u=this.props.getPartOfThemeProps("Title"),h=this.props.getPartOfThemeProps("Footer"),f=this.props.getPartOfThemeProps("TableTheme"),d=this.props.getPartOfThemeProps("EmptyData",{props:{tableSize:p}});return React.createElement(_tableCss.Container,{themeProps:c,tabIndex:10},l?React.createElement(_tableCss.CustomBlock,{themeProps:u},l):null,React.createElement(_tableCss.LugiaTable,{themeProps:f},i&&React.createElement(_tableCss.THead,null," ",this.getColumns(a)),React.createElement(_tableCss.TBody,null,this.getData(r))),0===r.length&&React.createElement(_tableCss.NoData,{themeProps:d},"暂无数据"),n?React.createElement(_tableCss.CustomBlock,{themeProps:h},n):null)}}]),l}();exports.default=(0,_themeProvider2.default)(Table,_consts2.default.Table);