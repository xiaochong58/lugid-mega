"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}}(),_react=require("react"),React=_interopRequireWildcard(_react),_objectUtils=require("@lugia/object-utils"),_themeHoc=require("@lugia/theme-hoc"),_themeProvider=require("../theme-provider"),_themeProvider2=_interopRequireDefault(_themeProvider),_consts=require("../consts"),_consts2=_interopRequireDefault(_consts),_checkButton=require("../css/check-button"),_themeUtils=require("@lugia/theme-utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var borderDisableColor="$lugia-dict.@lugia/lugia-web.borderDisableColor",spiritColor="$lugia-dict.@lugia/lugia-web.spiritColor",lightGreyColor="$lugia-dict.@lugia/lugia-web.lightGreyColor",darkGreyColor="$lugia-dict.@lugia/lugia-web.darkGreyColor",borderColor="$lugia-dict.@lugia/lugia-web.borderColor",cancelCommonTheme={color:"#fff",background:{color:"$lugia-dict.@lugia/lugia-web.disabledColor"}},defaultRadioCancelTheme={themeConfig:{normal:cancelCommonTheme}},defaultCancelTheme={themeConfig:{normal:cancelCommonTheme,hover:cancelCommonTheme}},themeColor="$lugia-dict.@lugia/lugia-web.themeColor",checkedCommonTheme={color:"#fff",background:{color:themeColor},border:Object.assign({},(0,_themeUtils.getBorder)({color:themeColor,width:1,style:"solid"},{directions:["t","b"]}),(0,_themeUtils.getBorder)({color:"#fff",width:1,style:"solid"},{directions:["r"]}))},checkedDisabledCommonTheme={color:lightGreyColor,background:{color:spiritColor},border:Object.assign({},(0,_themeUtils.getBorder)({color:borderDisableColor,width:1,style:"solid"},{directions:["t","b"]}),(0,_themeUtils.getBorder)({color:"#fff",width:1,style:"solid"},{directions:["r"]}))},defaultCheckedTheme={themeConfig:{normal:checkedCommonTheme,hover:checkedCommonTheme,disabled:checkedDisabledCommonTheme}},defaultRadioCheckedTheme={themeConfig:{normal:checkedCommonTheme,disabled:checkedDisabledCommonTheme}},defaultUnCheckedTheme={themeConfig:{normal:{color:darkGreyColor,border:Object.assign({},(0,_themeUtils.getBorder)({color:borderColor,width:1,style:"solid"},{directions:["t","r","b"]})),background:{color:"#fff"},fontSize:12,padding:{top:0,right:10,bottom:0,left:10}},hover:{color:themeColor},disabled:{color:lightGreyColor,border:Object.assign({},(0,_themeUtils.getBorder)({color:borderDisableColor,width:1,style:"solid"},{directions:["t","r","b"]}))}}};_checkButton.CheckSpan.displayName="hello",_checkButton.CancelSpan.displayName="cancel",exports.default=(0,_themeProvider2.default)(function(){function c(){var e,t,u;_classCallCheck(this,c);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return(t=u=_possibleConstructorReturn(this,(e=c.__proto__||Object.getPrototypeOf(c)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=u.props,o=t.onChange,r=t.value,l=void 0===r?u.props.children:r,c=t.disabled,i=void 0!==c&&c,n=t.checked,a=void 0!==n&&n,d=t.cancel,h=void 0!==d&&d,s=t.type;if(!i){if(h&&"radio"===(void 0===s?"checkbox":s))return;u.setState({hasChecked:a}),o&&o(e,l)}},u.handleBlur=function(e){u.setState({hasChecked:!1}),e.stopPropagation(),e.preventDefault()},u.handleMouseEnter=function(){u.setState({hover:!0})},u.handleMouseLeave=function(){u.setState({hover:!1})},u.handleCancel=function(){var e=u.props,t=e.handleCancelItemClick,o=e.value;t(void 0===o?u.props.children:o)},_possibleConstructorReturn(u,t)}return _inherits(c,React.Component),_createClass(c,[{key:"render",value:function(){var e=this.props,t=e.size,o=e.checked,r=e.disabled,l=e.children,c=e.cancel,i=void 0!==c&&c,n=e.type,a=void 0===n?"checkbox":n,d=e.getPartOfThemeProps,h=e.themeProps,s=e.childrenCount,u=e.childrenIndex,m=this.state,C=m.hasChecked,f=m.hover,p=m.hasCancel,b={},g=defaultCancelTheme,k=defaultCheckedTheme;i&&(b.enter=this.handleMouseEnter,b.leave=this.handleMouseLeave,"radio"===a&&(g=defaultRadioCancelTheme)),o&&"radio"===a&&(k=defaultRadioCheckedTheme);var _=d("CheckButtonChecked",{selector:{index:u,count:s}}),v=d("CheckButtonUnChecked",{selector:{index:u,count:s}}),y=d("CheckButtonCancel"),T=i?(0,_objectUtils.deepMerge)(g,y):o?(0,_objectUtils.deepMerge)(k,_):(0,_objectUtils.deepMerge)(defaultUnCheckedTheme,v);return React.createElement(_checkButton.LabelWrapper,Object.assign({size:t,checked:o,disabled:r,hasCancel:p,themeProps:T},b,(0,_themeHoc.addMouseEvent)(this,b)),React.createElement(_checkButton.CheckInput,{themeProps:h,type:"radio",onBlur:this.handleBlur}),React.createElement(_checkButton.CheckSpan,{onClick:this.handleClick,size:t,checked:o,disabled:r,hasChecked:C,cancel:i,type:a,themeProps:T},l,i&&"checkbox"===a?React.createElement(_checkButton.CancelSpan,{onClick:this.handleCancel,themeProps:T,hover:f},React.createElement(_checkButton.IconWrap,{size:t,iconClass:"lugia-icon-reminder_close"})):null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t?{}:{hasChecked:!1,hover:!1,hasCancel:!1}}}]),c}(),_consts2.default.CheckButton,{hover:!0,active:!0});