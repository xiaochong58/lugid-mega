"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseRedPoint=void 0;var _createClass=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),_templateObject=_taggedTemplateLiteral(["\n    box-sizing: border-box;\n    position: absolute;\n    z-index: 10;\n  "],["\n    box-sizing: border-box;\n    position: absolute;\n    z-index: 10;\n  "]),_templateObject2=_taggedTemplateLiteral(["\n    border-radius: 100%;\n  "],["\n    border-radius: 100%;\n  "]),_templateObject3=_taggedTemplateLiteral(["\n    background: transparent;\n    box-sizing: border-box;\n    position: relative;\n    display: inline-block;\n    line-height: 1;\n  "],["\n    background: transparent;\n    box-sizing: border-box;\n    position: relative;\n    display: inline-block;\n    line-height: 1;\n  "]);require("../common/shirm");var _react=require("react"),_react2=_interopRequireDefault(_react),_index=require("../consts/index"),_index2=_interopRequireDefault(_index),_index3=require("./numberturn/index"),_index4=_interopRequireDefault(_index3),_themeHoc=require("@lugia/theme-hoc"),_themeHoc2=_interopRequireDefault(_themeHoc),_KeyBoardEventAdaptor=require("../common/KeyBoardEventAdaptor"),_KeyBoardEventAdaptor2=_interopRequireDefault(_KeyBoardEventAdaptor),_themeCssHoc=require("@lugia/theme-css-hoc"),_themeCssHoc2=_interopRequireDefault(_themeCssHoc),_css=require("@lugia/css");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var px2remcss=_css.units.px2remcss,defaultColor="$lugia-dict.@lugia/lugia-web.defaultColor",dangerColor="$lugia-dict.@lugia/lugia-web.dangerColor",BaseRedPoint=exports.BaseRedPoint=(0,_themeCssHoc2.default)({tag:"div",className:"BaseRedPoint",normal:{selectNames:[["width"],["height"],["background"],["position"],["opacity"],["border"],["borderRadius"]],defaultTheme:{background:{color:dangerColor},color:defaultColor,fontSize:10}},css:(0,_themeCssHoc.css)(_templateObject)}),Dot=(0,_themeCssHoc2.default)({extend:BaseRedPoint,className:"BadgeDot",normal:{selectNames:[["width"],["height"],["background"],["position"],["opacity"],["border"],["borderRadius"],["boxShadow"]],defaultTheme:{height:10,width:10}},css:(0,_themeCssHoc.css)(_templateObject2)}),Container=(0,_themeCssHoc2.default)({tag:"div",className:"BadgeContainer",normal:{selectNames:[],getCSS:function(e,t){var r=e.width,o=e.height,n=o||10;return"\n        min-width: "+px2remcss(r||10)+";\n        min-height: "+px2remcss(n)+";\n      "}},css:(0,_themeCssHoc.css)(_templateObject3)}),BadgeBox=function(){function i(){var e,t,n;_classCallCheck(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=n=_possibleConstructorReturn(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).getThemeConfigLength=function(){var e=n.props.getPartOfThemeProps;return Object.keys(e("Badge").themeConfig).length},n.getFunction=function(e){var t=n.props,r=t.getPartOfThemeProps,o=t.getPartOfThemeHocProps;return e?o:r},n.getNewThemeProps=function(e,t,r){var o=n.getFunction(r);return 1<n.getThemeConfigLength()?o(t):o(e)},_possibleConstructorReturn(n,t)}return _inherits(i,_react.Component),_createClass(i,[{key:"getDot",value:function(){var e=this.props,t=e.showZero,r=void 0!==t&&t,o=e.count,n=void 0===o?0:o,a="count"in this.props,i="showZero"in this.props,s=0===n||!n,u=this.getNewThemeProps("BadgeDot","Badge"),l=_react2.default.createElement(Dot,{themeProps:u});return i&&s?r?this.getNumberTurn(0):l:a&&(r||!s)?this.getNumberTurn(n):l}},{key:"getNumberTurn",value:function(e){var t=this.props.overflowCount,r=this.getNewThemeProps("BadgeNumber","Badge",!0);return _react2.default.createElement(_index4.default,Object.assign({count:e,overflowCount:t,singleTheme:!0},r))}},{key:"render",value:function(){var e=this.props.children,t=!!e,r=this.getNewThemeProps("BadgeDot","Badge");return _react2.default.createElement(Container,{hasChildren:t,themeProps:r},e,this.getDot())}}]),i}();BadgeBox.defaultProps={viewClass:_index2.default.Badge,size:"default",overflowCount:"99"},BadgeBox.displayName=_index2.default.Badge;var Badge=(0,_themeHoc2.default)((0,_KeyBoardEventAdaptor2.default)(BadgeBox),_index2.default.Badge);exports.default=Badge;