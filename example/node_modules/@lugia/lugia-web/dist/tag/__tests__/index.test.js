"use strict";var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_createClass=function(){function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}}(),_react=require("react"),React=_interopRequireWildcard(_react),_chai=require("chai"),_chai2=_interopRequireDefault(_chai),_=require("../"),_2=_interopRequireDefault(_),_index=require("../../consts/index"),_index2=_interopRequireDefault(_index),_theme=require("../../theme"),_theme2=_interopRequireDefault(_theme);require("jest-styled-components");var _reactTestRenderer=require("react-test-renderer"),_reactTestRenderer2=_interopRequireDefault(_reactTestRenderer),_enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_reactTestUtils=require("@lugia/react-test-utils");function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var u=e.apply(this,arguments);return new Promise(function(c,o){return function t(e,a){try{var r=u[e](a),n=r.value}catch(e){return void o(e)}if(!r.done)return Promise.resolve(n).then(function(e){t("next",e)},function(e){t("throw",e)});c(n)}("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default});var exp=_chai2.default.expect,config=_defineProperty({},_index2.default.Tag,{color:"ff5588"});describe("Tag",function(){it("default: type = basic",function(){var e=_reactTestRenderer2.default.create(React.createElement(_2.default,{type:"basic"})).toJSON();expect(e).toMatchSnapshot()}),it("default: type = basic, shape = round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_2.default,{type:"basic",shape:"round"})).toJSON();expect(e).toMatchSnapshot()}),it("Theme: type= basic, shape= round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_theme2.default,{config:config},React.createElement(_2.default,{type:"basic",shape:"round"}))).toJSON();expect(e).toMatchSnapshot()}),it("Theme: type= basic, closable=false shape= round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_theme2.default,{config:config},React.createElement(_2.default,{type:"basic",closable:!1,shape:"round"}))).toJSON();expect(e).toMatchSnapshot()}),it("default: type = customs",function(){var e=_reactTestRenderer2.default.create(React.createElement(_2.default,{type:"customs"})).toJSON();expect(e).toMatchSnapshot()}),it("default: type = customs, shape = round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_2.default,{type:"customs",shape:"round"})).toJSON();expect(e).toMatchSnapshot()}),it("Theme: type= customs, shape= round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_theme2.default,{config:config},React.createElement(_2.default,{type:"customs",shape:"round"}))).toJSON();expect(e).toMatchSnapshot()}),it("Theme: type= customs, closable=false shape= round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_theme2.default,{config:config},React.createElement(_2.default,{type:"customs",closable:!1,shape:"round"}))).toJSON();expect(e).toMatchSnapshot()}),it("default: type = primary",function(){var e=_reactTestRenderer2.default.create(React.createElement(_2.default,{type:"primary"})).toJSON();expect(e).toMatchSnapshot()}),it("default: type = primary, shape = round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_2.default,{type:"primary",shape:"round"})).toJSON();expect(e).toMatchSnapshot()}),it("Theme: type= primary, shape= round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_theme2.default,{config:config},React.createElement(_2.default,{type:"primary",shape:"round"}))).toJSON();expect(e).toMatchSnapshot()}),it("Theme: type= primary, closable=false shape= round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_theme2.default,{config:config},React.createElement(_2.default,{type:"primary",closable:!1,shape:"round"}))).toJSON();expect(e).toMatchSnapshot()}),it("default: type = presets",function(){var e=_reactTestRenderer2.default.create(React.createElement(_2.default,{type:"presets"})).toJSON();expect(e).toMatchSnapshot()}),it("default: type = presets, shape = round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_2.default,{type:"presets",shape:"round"})).toJSON();expect(e).toMatchSnapshot()}),it("Theme: type= presets, shape= round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_theme2.default,{config:config},React.createElement(_2.default,{type:"presets",shape:"round"}))).toJSON();expect(e).toMatchSnapshot()}),it("Theme: type= presets, closable=false shape= round",function(){var e=_reactTestRenderer2.default.create(React.createElement(_theme2.default,{config:config},React.createElement(_2.default,{type:"presets",closable:!1,shape:"round"}))).toJSON();expect(e).toMatchSnapshot()});for(var t=[],e=0;e<10;e++)t.push(e);var r=(_inherits(n,React.Component),_createClass(n,[{key:"render",value:function(){return this.getTag()}},{key:"onClose",value:function(e,t){var a=this.state.data,r=a.indexOf(e);a.splice(r,1),this.setState({data:a})}}]),n);function n(e){_classCallCheck(this,n);var a=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return a.getTag=function(){return a.state.data.map(function(e,t){return React.createElement(_2.default,{key:e,onClose:a.onClose.bind(a,e),closable:!0},e)})},a.state={data:t},a}function c(e){return e.find("CloseButtonWrap")}it("click and close",_asyncToGenerator(_regenerator2.default.mark(function e(){var a;return _regenerator2.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,_enzyme.mount)(React.createElement(r,null)),expect(c(a).length).toEqual(10),t=1,c(a).at(t).simulate("click"),e.next=5,(0,_reactTestUtils.delay)(500);case 5:a.update(),expect(c(a).length).toEqual(10);case 7:case"end":return e.stop()}var t},e,void 0)})))});