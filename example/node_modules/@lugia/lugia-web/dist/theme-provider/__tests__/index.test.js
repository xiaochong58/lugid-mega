"use strict";var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_templateObject=_taggedTemplateLiteral(["\n  width: 100px;\n"],["\n  width: 100px;\n"]),_react=require("react"),_react2=_interopRequireDefault(_react);require("jest-styled-components");var _enzyme=require("enzyme"),_enzyme2=_interopRequireDefault(_enzyme),_enzymeAdapterReact=require("enzyme-adapter-react-16"),_enzymeAdapterReact2=_interopRequireDefault(_enzymeAdapterReact),_index=require("../index"),_index2=_interopRequireDefault(_index),_theme=require("../../theme/"),_theme2=_interopRequireDefault(_theme),_reactTestUtils=require("@lugia/react-test-utils"),_styledComponents=require("styled-components"),_styledComponents2=_interopRequireDefault(_styledComponents);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}_enzyme2.default.configure({adapter:new _enzymeAdapterReact2.default});var Input=_styledComponents2.default.div(_templateObject);Input.displayName="input",describe("ThemeProvider",function(){var e,t,n,r,_="HelloMyButton",d="HelloMyButtonTheme",m=(0,_index2.default)((_inherits(a,_react2.default.Component),_createClass(a,[{key:"render",value:function(){return _react2.default.createElement("div",null)}}]),t=e=a,e.displayName=_,t),d);function a(){return _classCallCheck(this,a),_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}var s=(0,_index2.default)((_inherits(l,_react2.default.Component),_createClass(l,[{key:"render",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement(Input,null))}}]),r=n=l,n.displayName="themeInput",r),d);function l(){return _classCallCheck(this,l),_possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}function p(e,t,n){return e.find(t).at(0).props().getThemeByDisplayName(n)}var y="svThemeConfigTree",h=function(e,t){return e.find(t).at(0).props().getTheme()};function i(o,c){var u="viewClass";function f(e,t){var n={world:{btnCfgClassName:d+"_"+e}},r=_defineProperty({},u,{hello:{viewClassName:u+"_"+e}}),a=_defineProperty({},d,n);switch(t){case"viewClass":return r;case"widgetName":return a;case"all":return Object.assign({},r,a)}return{}}it(c+" level is "+o,function(){for(var e=_react2.default.createElement(m,{viewClass:u}),t=0;t<o;t++){var n=f(t,c);e=_react2.default.createElement(_theme2.default,{config:n},e)}var r,a,l,i=(0,_enzyme.mount)(e);expect(h(i,_)).toEqual((a=f(0,r=c),l=function(e,t){switch(t){case"viewClass":return e[u];case"widgetName":return e[d];case"all":return Object.assign({},e[u],e[d])}}(a,r),Object.assign({},l,_defineProperty({},y,a))))})}it("config: {}",function(){var e=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:{}},_react2.default.createElement(m,null)));expect(function(e,t){return e.find(t).at(0).props().getWidgetThemeName()}(e,_)).toEqual(d),expect(h(e,_)).toEqual(_defineProperty({},y,{}))}),it("config: {lgx: {}}",function(){var e={},t={lgx:e},n=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:t},_react2.default.createElement(m,null)));expect(h(n,_)).toEqual(_defineProperty({},y,{lgx:e}))}),it("mutline theme, config: { HelloMyButton : {}}",function(){var e={width:50},t={height:100},n=_defineProperty({},d,e),r=_defineProperty({},d,t),a=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:n},_react2.default.createElement(_theme2.default,{config:r},_react2.default.createElement(m,null))));expect(h(a,_)).toEqual(Object.assign({},e,t,_defineProperty({},y,_defineProperty({},d,Object.assign({},e,t)))))});for(var o=1;o<10;o++)i(o,"widgetName"),i(o,"viewClass"),i(o,"all");it("mutline theme,  config: { viewClass : {}}",function(){var e={helloA:"a"},t={helloB:"b"},n="helloLIgx",r=_defineProperty({},n,e),a=_defineProperty({},n,t),l=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:r},_react2.default.createElement(_theme2.default,{config:a},_react2.default.createElement(m,{viewClass:n}))));expect(h(l,_)).toEqual(Object.assign({},e,t,_defineProperty({},y,_defineProperty({},n,Object.assign({},e,t)))))}),it("mutline theme,  config: { HelloMyButton: {}, viewClass : {}}",function(){var e,t,n,r={helloA:"a"},a={helloB:"b"},l={HelloMyButtonA:"c"},i={HelloMyButtonB:"d"},o="helloLIgx",c=(_defineProperty(e={},o,r),_defineProperty(e,d,l),e),u=(_defineProperty(t={},o,a),_defineProperty(t,d,i),t),f=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:c},_react2.default.createElement(_theme2.default,{config:u},_react2.default.createElement(m,{viewClass:o}))));expect(h(f,_)).toEqual(Object.assign({},r,a,l,i,_defineProperty({},y,(_defineProperty(n={},d,Object.assign({},l,i)),_defineProperty(n,o,Object.assign({},r,a)),n))))}),it("config: { HelloMyButton : {}}",function(){var e={hello:"1"},t=_defineProperty({},d,e),n=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:t},_react2.default.createElement(m,null)));expect(h(n,_)).toEqual(Object.assign({},e,_defineProperty({},y,_defineProperty({},d,e))))}),it('config: { HelloMyButton : {}} viewClass: "viewClass"',function(){var e={hello:"1"},t=_defineProperty({},d,e),n=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:t},_react2.default.createElement(m,{viewClass:"viewClass"})));expect(h(n,_)).toEqual(Object.assign({},e,_defineProperty({},y,_defineProperty({},d,e))))}),it("config: { viewClass : {}}",function(){var e="ligx",t={hello:"1"},n=_defineProperty({},e,t),r=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:n},_react2.default.createElement(m,{viewClass:e})));expect(h(r,_)).toEqual(Object.assign({},t,_defineProperty({},y,_defineProperty({},e,t))))}),it("config: { HelloMyButton : {}, viewClass : {}} is same",function(){var e,t,n="ligx",r={viewClass:"viewClass"},a={viewClass:"btnTheme"},l=(_defineProperty(e={},n,r),_defineProperty(e,d,a),e),i=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:l},_react2.default.createElement(m,{viewClass:n})));expect(h(i,_)).toEqual(Object.assign({},r,_defineProperty({},y,(_defineProperty(t={},n,r),_defineProperty(t,d,a),t))))}),it("config: { HelloMyButton : {}, viewClass : {}} is different",function(){var e,t,n="ligx",r={viewClass:"viewClass"},a={btnTheme:"btnTheme"},l=(_defineProperty(e={},n,r),_defineProperty(e,d,a),e),i=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:l},_react2.default.createElement(m,{viewClass:n})));expect(h(i,_)).toEqual(Object.assign({},r,a,_defineProperty({},y,(_defineProperty(t={},n,r),_defineProperty(t,d,a),t))))}),it("config:  3 level ",function(){var e="ligx",t={color:"#4532431"},n=_defineProperty({},e,{color:"#5514123"}),r=_defineProperty({},e,{color:"red"}),a=_defineProperty({},e,t),l=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:n},_react2.default.createElement(_theme2.default,{config:r},_react2.default.createElement(_theme2.default,{config:a},_react2.default.createElement(m,{viewClass:e})))));expect(h(l,_)).toEqual(Object.assign({},t,_defineProperty({},y,_defineProperty({},e,t))))}),it("config:  3 level mixed",function(){var e="ligx",t={width:500},n={background:"red"},r=Object.assign({color:"#abcdef"},n),a=Object.assign({color:"red"},t),l={color:"#bcdefg"},i=_defineProperty({},e,r),o=_defineProperty({},e,a),c=_defineProperty({},e,l),u=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:i},_react2.default.createElement(_theme2.default,{config:o},_react2.default.createElement(_theme2.default,{config:c},_react2.default.createElement(m,{viewClass:e})))));expect(h(u,_)).toEqual(Object.assign({},l,t,n,_defineProperty({},y,_defineProperty({},e,Object.assign({},l,t,n)))))}),it("config:  inner level theme",function(){var e,t={width:500},n=(_defineProperty(e={},"ligx",{width:400}),_defineProperty(e,"input",{levelB:t}),e),r=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:n},_react2.default.createElement(s,null)));expect(p(r,"themeInput","input")).toEqual({levelB:t})}),it("config:  inner level theme null",function(){var e,t={},n=(_defineProperty(e={},"ligx",{width:400}),_defineProperty(e,"input",{levelB:t}),e),r=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:n},_react2.default.createElement(s,null)));expect(p(r,"themeInput","input")).toEqual({levelB:t})}),it("config:   multiple level theme",function(){var e="input",t={width:600},n=_defineProperty({},e,{width:400}),r=_defineProperty({},e,{width:500}),a=_defineProperty({},e,t),l=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:n},_react2.default.createElement(_theme2.default,{config:r},_react2.default.createElement(_theme2.default,{config:a},_react2.default.createElement(s,{viewClass:e})))));expect(p(l,"themeInput","input")).toEqual(t)}),it("config:   multiple level theme",function(){var e="input",t={width:600},n=_defineProperty({},e,{width:400}),r=_defineProperty({},e,{width:500}),a=_defineProperty({},e,t),l=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:n},_react2.default.createElement(_theme2.default,{config:r},_react2.default.createElement(_theme2.default,{config:a},_react2.default.createElement(s,{viewClass:e})))));expect(p(l,"themeInput","input")).toEqual(t)}),it("config:   multiple level theme",function(){var e="input",t={width:600},n=_defineProperty({},e,{width:400}),r=_defineProperty({},e,{width:500}),a=_defineProperty({},e,t),l=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:n},_react2.default.createElement(_theme2.default,{config:r},_react2.default.createElement(_theme2.default,{config:a},_react2.default.createElement(s,{viewClass:e})))));expect(p(l,"themeInput","input")).toEqual(t)}),it("config:   multiple level multiple attr theme",function(){var e,t,n="input",r="button",a={width:400,color:"red"},l={width:500},i={width:600},o=(_defineProperty(e={},r,a),_defineProperty(e,n,a),e),c=(_defineProperty(t={},r,l),_defineProperty(t,n,l),t),u=_defineProperty({},n,i),f=(0,_enzyme.mount)(_react2.default.createElement(_theme2.default,{config:o},_react2.default.createElement(_theme2.default,{config:c},_react2.default.createElement(_theme2.default,{config:u},_react2.default.createElement(s,{viewClass:n})))));expect(p(f,"themeInput",n)).toEqual(Object.assign({},a,i)),expect(p(f,"themeInput",r)).toEqual(Object.assign({},a,l))})});